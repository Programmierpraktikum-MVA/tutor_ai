2023-07-06 14:34:26 INFO     uvicorn.error   Will watch for changes in these directories: ['/chroma']
2023-07-06 14:34:26 INFO     uvicorn.error   Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2023-07-06 14:34:26 INFO     uvicorn.error   Started reloader process [1] using WatchFiles
2023-07-06 14:34:30 INFO     chromadb.telemetry.posthog Anonymized telemetry enabled. See https://docs.trychroma.com/telemetry for more information.
2023-07-06 14:34:31 DEBUG    chromadb.config Starting component System
2023-07-06 14:34:31 DEBUG    chromadb.config Starting component Posthog
2023-07-06 14:34:31 DEBUG    chromadb.config Starting component Clickhouse
2023-07-06 14:34:31 DEBUG    chromadb.config Starting component LocalAPI
2023-07-06 14:34:31 INFO     uvicorn.error   Started server process [8]
2023-07-06 14:34:31 INFO     uvicorn.error   Waiting for application startup.
2023-07-06 14:34:31 INFO     uvicorn.error   Application startup complete.
2023-07-06 14:58:08 INFO     uvicorn.error   Will watch for changes in these directories: ['/chroma']
2023-07-06 14:58:08 INFO     uvicorn.error   Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2023-07-06 14:58:08 INFO     uvicorn.error   Started reloader process [1] using WatchFiles
2023-07-06 14:58:10 INFO     chromadb.telemetry.posthog Anonymized telemetry enabled. See https://docs.trychroma.com/telemetry for more information.
2023-07-06 14:58:11 DEBUG    chromadb.config Starting component System
2023-07-06 14:58:11 DEBUG    chromadb.config Starting component Posthog
2023-07-06 14:58:11 DEBUG    chromadb.config Starting component Clickhouse
2023-07-06 14:58:11 DEBUG    chromadb.config Starting component LocalAPI
2023-07-06 14:58:11 INFO     uvicorn.error   Started server process [8]
2023-07-06 14:58:11 INFO     uvicorn.error   Waiting for application startup.
2023-07-06 14:58:11 INFO     uvicorn.error   Application startup complete.
2023-07-06 15:29:32 INFO     uvicorn.access  172.19.0.1:50914 - "POST /api/v1/collections HTTP/1.1" 200
2023-07-07 07:59:06 INFO     uvicorn.error   Will watch for changes in these directories: ['/chroma']
2023-07-07 07:59:06 INFO     uvicorn.error   Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2023-07-07 07:59:06 INFO     uvicorn.error   Started reloader process [1] using WatchFiles
2023-07-07 08:10:45 INFO     uvicorn.error   Will watch for changes in these directories: ['/chroma']
2023-07-07 08:10:45 INFO     uvicorn.error   Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2023-07-07 08:10:45 INFO     uvicorn.error   Started reloader process [1] using WatchFiles
2023-07-07 08:10:47 INFO     chromadb.telemetry.posthog Anonymized telemetry enabled. See https://docs.trychroma.com/telemetry for more information.
2023-07-07 08:10:48 DEBUG    chromadb.config Starting component System
2023-07-07 08:10:48 DEBUG    chromadb.config Starting component Posthog
2023-07-07 08:10:48 DEBUG    chromadb.config Starting component Clickhouse
2023-07-07 08:10:48 DEBUG    chromadb.config Starting component LocalAPI
2023-07-07 08:10:48 INFO     uvicorn.error   Started server process [8]
2023-07-07 08:10:48 INFO     uvicorn.error   Waiting for application startup.
2023-07-07 08:10:48 INFO     uvicorn.error   Application startup complete.
2023-07-07 08:13:17 INFO     uvicorn.error   Shutting down
2023-07-07 08:13:17 INFO     uvicorn.error   Waiting for application shutdown.
2023-07-07 08:13:17 INFO     uvicorn.error   Application shutdown complete.
2023-07-07 08:13:17 INFO     uvicorn.error   Finished server process [8]
2023-07-07 08:13:17 INFO     uvicorn.error   Stopping reloader process [1]
2023-07-07 08:13:46 INFO     uvicorn.error   Will watch for changes in these directories: ['/chroma']
2023-07-07 08:13:46 INFO     uvicorn.error   Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2023-07-07 08:13:46 INFO     uvicorn.error   Started reloader process [1] using WatchFiles
2023-07-07 08:13:49 INFO     chromadb.telemetry.posthog Anonymized telemetry enabled. See https://docs.trychroma.com/telemetry for more information.
2023-07-07 08:13:50 DEBUG    chromadb.config Starting component System
2023-07-07 08:13:50 DEBUG    chromadb.config Starting component Posthog
2023-07-07 08:13:50 DEBUG    chromadb.config Starting component Clickhouse
2023-07-07 08:13:50 DEBUG    chromadb.config Starting component LocalAPI
2023-07-07 08:13:50 INFO     uvicorn.error   Started server process [8]
2023-07-07 08:13:50 INFO     uvicorn.error   Waiting for application startup.
2023-07-07 08:13:51 INFO     uvicorn.error   Application startup complete.
2023-07-07 08:16:14 INFO     uvicorn.error   Shutting down
2023-07-07 08:16:14 INFO     uvicorn.error   Waiting for application shutdown.
2023-07-07 08:16:14 INFO     uvicorn.error   Application shutdown complete.
2023-07-07 08:16:14 INFO     uvicorn.error   Finished server process [8]
2023-07-07 08:16:15 INFO     uvicorn.error   Stopping reloader process [1]
2023-07-07 08:17:54 INFO     uvicorn.error   Will watch for changes in these directories: ['/chroma']
2023-07-07 08:17:54 INFO     uvicorn.error   Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2023-07-07 08:17:54 INFO     uvicorn.error   Started reloader process [1] using WatchFiles
2023-07-07 08:17:57 INFO     chromadb.telemetry.posthog Anonymized telemetry enabled. See https://docs.trychroma.com/telemetry for more information.
2023-07-07 08:17:58 DEBUG    chromadb.config Starting component System
2023-07-07 08:17:58 DEBUG    chromadb.config Starting component Posthog
2023-07-07 08:17:58 DEBUG    chromadb.config Starting component Clickhouse
2023-07-07 08:17:58 DEBUG    chromadb.config Starting component LocalAPI
2023-07-07 08:17:58 INFO     uvicorn.error   Started server process [8]
2023-07-07 08:17:58 INFO     uvicorn.error   Waiting for application startup.
2023-07-07 08:17:58 INFO     uvicorn.error   Application startup complete.
2023-07-07 08:26:08 INFO     uvicorn.error   Shutting down
2023-07-07 08:26:08 INFO     uvicorn.error   Waiting for application shutdown.
2023-07-07 08:26:08 INFO     uvicorn.error   Application shutdown complete.
2023-07-07 08:26:08 INFO     uvicorn.error   Finished server process [8]
2023-07-07 08:26:09 INFO     uvicorn.error   Stopping reloader process [1]
2023-07-07 08:29:57 INFO     uvicorn.error   Will watch for changes in these directories: ['/chroma']
2023-07-07 08:29:57 INFO     uvicorn.error   Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2023-07-07 08:29:57 INFO     uvicorn.error   Started reloader process [1] using WatchFiles
2023-07-07 08:30:02 INFO     chromadb.telemetry.posthog Anonymized telemetry enabled. See https://docs.trychroma.com/telemetry for more information.
2023-07-07 08:30:04 DEBUG    chromadb.config Starting component System
2023-07-07 08:30:04 DEBUG    chromadb.config Starting component Posthog
2023-07-07 08:30:04 DEBUG    chromadb.config Starting component Clickhouse
2023-07-07 08:30:04 DEBUG    chromadb.config Starting component LocalAPI
2023-07-07 08:30:04 INFO     uvicorn.error   Started server process [8]
2023-07-07 08:30:04 INFO     uvicorn.error   Waiting for application startup.
2023-07-07 08:30:04 INFO     uvicorn.error   Application startup complete.
2023-07-07 08:32:52 INFO     uvicorn.error   Will watch for changes in these directories: ['/chroma']
2023-07-07 08:32:52 INFO     uvicorn.error   Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2023-07-07 08:32:52 INFO     uvicorn.error   Started reloader process [1] using WatchFiles
2023-07-07 08:34:10 INFO     chromadb.telemetry.posthog Anonymized telemetry enabled. See https://docs.trychroma.com/telemetry for more information.
2023-07-07 08:34:10 DEBUG    chromadb.config Starting component System
2023-07-07 08:34:10 DEBUG    chromadb.config Starting component Posthog
2023-07-07 08:34:10 DEBUG    chromadb.config Starting component Clickhouse
2023-07-07 08:34:10 DEBUG    chromadb.config Starting component LocalAPI
2023-07-07 08:34:10 INFO     uvicorn.error   Started server process [8]
2023-07-07 08:34:10 INFO     uvicorn.error   Waiting for application startup.
2023-07-07 08:34:11 INFO     uvicorn.error   Application startup complete.
2023-07-07 08:36:19 INFO     uvicorn.error   Shutting down
2023-07-07 08:36:19 INFO     uvicorn.error   Waiting for application shutdown.
2023-07-07 08:36:19 INFO     uvicorn.error   Application shutdown complete.
2023-07-07 08:36:19 INFO     uvicorn.error   Finished server process [8]
2023-07-07 08:36:20 INFO     uvicorn.error   Stopping reloader process [1]
2023-07-07 08:37:44 INFO     uvicorn.error   Will watch for changes in these directories: ['/chroma']
2023-07-07 08:37:44 INFO     uvicorn.error   Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2023-07-07 08:37:44 INFO     uvicorn.error   Started reloader process [1] using WatchFiles
2023-07-07 08:37:46 INFO     chromadb.telemetry.posthog Anonymized telemetry enabled. See https://docs.trychroma.com/telemetry for more information.
2023-07-07 08:37:47 DEBUG    chromadb.config Starting component System
2023-07-07 08:37:47 DEBUG    chromadb.config Starting component Posthog
2023-07-07 08:37:47 DEBUG    chromadb.config Starting component Clickhouse
2023-07-07 08:37:47 DEBUG    chromadb.config Starting component LocalAPI
2023-07-07 08:37:47 INFO     uvicorn.error   Started server process [8]
2023-07-07 08:37:47 INFO     uvicorn.error   Waiting for application startup.
2023-07-07 08:37:47 INFO     uvicorn.error   Application startup complete.
2023-07-07 08:40:37 INFO     uvicorn.error   Shutting down
2023-07-07 08:40:37 INFO     uvicorn.error   Waiting for application shutdown.
2023-07-07 08:40:37 INFO     uvicorn.error   Application shutdown complete.
2023-07-07 08:40:37 INFO     uvicorn.error   Finished server process [8]
2023-07-07 08:40:37 INFO     uvicorn.error   Stopping reloader process [1]
2023-07-07 08:40:54 INFO     uvicorn.error   Will watch for changes in these directories: ['/chroma']
2023-07-07 08:40:54 INFO     uvicorn.error   Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2023-07-07 08:40:54 INFO     uvicorn.error   Started reloader process [1] using WatchFiles
2023-07-07 08:40:57 INFO     chromadb.telemetry.posthog Anonymized telemetry enabled. See https://docs.trychroma.com/telemetry for more information.
2023-07-07 08:40:58 DEBUG    chromadb.config Starting component System
2023-07-07 08:40:58 DEBUG    chromadb.config Starting component Posthog
2023-07-07 08:40:58 DEBUG    chromadb.config Starting component Clickhouse
2023-07-07 08:40:58 DEBUG    chromadb.config Starting component LocalAPI
2023-07-07 08:40:58 INFO     uvicorn.error   Started server process [8]
2023-07-07 08:40:58 INFO     uvicorn.error   Waiting for application startup.
2023-07-07 08:40:58 INFO     uvicorn.error   Application startup complete.
2023-07-07 08:47:21 INFO     uvicorn.error   Shutting down
2023-07-07 08:47:21 INFO     uvicorn.error   Waiting for application shutdown.
2023-07-07 08:47:21 INFO     uvicorn.error   Application shutdown complete.
2023-07-07 08:47:21 INFO     uvicorn.error   Finished server process [8]
2023-07-07 08:47:22 INFO     uvicorn.error   Stopping reloader process [1]
2023-07-07 08:49:08 INFO     uvicorn.error   Will watch for changes in these directories: ['/chroma']
2023-07-07 08:49:08 INFO     uvicorn.error   Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2023-07-07 08:49:08 INFO     uvicorn.error   Started reloader process [1] using WatchFiles
2023-07-07 08:49:16 INFO     chromadb.telemetry.posthog Anonymized telemetry enabled. See https://docs.trychroma.com/telemetry for more information.
2023-07-07 08:49:16 DEBUG    chromadb.config Starting component System
2023-07-07 08:49:16 DEBUG    chromadb.config Starting component Posthog
2023-07-07 08:49:16 DEBUG    chromadb.config Starting component Clickhouse
2023-07-07 08:49:16 DEBUG    chromadb.config Starting component LocalAPI
2023-07-07 08:49:16 INFO     uvicorn.error   Started server process [8]
2023-07-07 08:49:16 INFO     uvicorn.error   Waiting for application startup.
2023-07-07 08:49:17 INFO     uvicorn.error   Application startup complete.
2023-07-07 08:56:05 INFO     uvicorn.error   Shutting down
2023-07-07 08:56:05 INFO     uvicorn.error   Waiting for application shutdown.
2023-07-07 08:56:05 INFO     uvicorn.error   Application shutdown complete.
2023-07-07 08:56:05 INFO     uvicorn.error   Finished server process [8]
2023-07-07 08:56:06 INFO     uvicorn.error   Stopping reloader process [1]
2023-07-07 08:58:24 INFO     uvicorn.error   Will watch for changes in these directories: ['/chroma']
2023-07-07 08:58:24 INFO     uvicorn.error   Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2023-07-07 08:58:24 INFO     uvicorn.error   Started reloader process [1] using WatchFiles
2023-07-07 08:58:42 INFO     chromadb.telemetry.posthog Anonymized telemetry enabled. See https://docs.trychroma.com/telemetry for more information.
2023-07-07 08:58:43 DEBUG    chromadb.config Starting component System
2023-07-07 08:58:43 DEBUG    chromadb.config Starting component Posthog
2023-07-07 08:58:43 DEBUG    chromadb.config Starting component Clickhouse
2023-07-07 08:58:43 DEBUG    chromadb.config Starting component LocalAPI
2023-07-07 08:58:43 INFO     uvicorn.error   Started server process [8]
2023-07-07 08:58:43 INFO     uvicorn.error   Waiting for application startup.
2023-07-07 08:58:43 INFO     uvicorn.error   Application startup complete.
2023-07-07 08:59:20 INFO     uvicorn.error   Shutting down
2023-07-07 08:59:20 INFO     uvicorn.error   Waiting for application shutdown.
2023-07-07 08:59:20 INFO     uvicorn.error   Application shutdown complete.
2023-07-07 08:59:20 INFO     uvicorn.error   Finished server process [8]
2023-07-07 08:59:20 INFO     uvicorn.error   Stopping reloader process [1]
2023-07-07 09:01:19 INFO     uvicorn.error   Will watch for changes in these directories: ['/chroma']
2023-07-07 09:01:19 INFO     uvicorn.error   Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2023-07-07 09:01:19 INFO     uvicorn.error   Started reloader process [1] using WatchFiles
2023-07-07 09:01:24 INFO     chromadb.telemetry.posthog Anonymized telemetry enabled. See https://docs.trychroma.com/telemetry for more information.
2023-07-07 09:01:25 DEBUG    chromadb.config Starting component System
2023-07-07 09:01:25 DEBUG    chromadb.config Starting component Posthog
2023-07-07 09:01:25 DEBUG    chromadb.config Starting component Clickhouse
2023-07-07 09:01:25 DEBUG    chromadb.config Starting component LocalAPI
2023-07-07 09:01:25 INFO     uvicorn.error   Started server process [8]
2023-07-07 09:01:25 INFO     uvicorn.error   Waiting for application startup.
2023-07-07 09:01:25 INFO     uvicorn.error   Application startup complete.
2023-07-07 09:05:49 INFO     uvicorn.error   Shutting down
2023-07-07 09:05:49 INFO     uvicorn.error   Waiting for application shutdown.
2023-07-07 09:05:49 INFO     uvicorn.error   Application shutdown complete.
2023-07-07 09:05:49 INFO     uvicorn.error   Finished server process [8]
2023-07-07 09:05:50 INFO     uvicorn.error   Stopping reloader process [1]
2023-07-07 09:10:01 INFO     uvicorn.error   Will watch for changes in these directories: ['/chroma']
2023-07-07 09:10:01 INFO     uvicorn.error   Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2023-07-07 09:10:01 INFO     uvicorn.error   Started reloader process [1] using WatchFiles
2023-07-07 09:11:03 INFO     chromadb.telemetry.posthog Anonymized telemetry enabled. See https://docs.trychroma.com/telemetry for more information.
2023-07-07 09:11:30 DEBUG    chromadb.config Starting component System
2023-07-07 09:11:30 DEBUG    chromadb.config Starting component Posthog
2023-07-07 09:11:30 DEBUG    chromadb.config Starting component Clickhouse
2023-07-07 09:11:30 DEBUG    chromadb.config Starting component LocalAPI
2023-07-07 09:11:30 INFO     uvicorn.error   Started server process [8]
2023-07-07 09:11:30 INFO     uvicorn.error   Waiting for application startup.
2023-07-07 09:11:32 INFO     uvicorn.error   Application startup complete.
2023-07-07 09:13:35 INFO     backoff         Backing off send_request(...) for 0.5s (requests.exceptions.ConnectionError: ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response')))
2023-07-07 09:14:09 INFO     uvicorn.access  172.21.0.5:59536 - "POST /api/v1/collections HTTP/1.1" 200
2023-07-07 09:23:21 INFO     uvicorn.error   Shutting down
2023-07-07 09:23:21 INFO     uvicorn.error   Waiting for application shutdown.
2023-07-07 09:23:21 INFO     uvicorn.error   Application shutdown complete.
2023-07-07 09:23:21 INFO     uvicorn.error   Finished server process [8]
2023-07-07 09:23:21 INFO     uvicorn.error   Stopping reloader process [1]
2023-07-07 09:27:41 INFO     uvicorn.error   Will watch for changes in these directories: ['/chroma']
2023-07-07 09:27:41 INFO     uvicorn.error   Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2023-07-07 09:27:41 INFO     uvicorn.error   Started reloader process [1] using WatchFiles
2023-07-07 09:27:46 INFO     chromadb.telemetry.posthog Anonymized telemetry enabled. See https://docs.trychroma.com/telemetry for more information.
2023-07-07 09:27:46 DEBUG    chromadb.config Starting component System
2023-07-07 09:27:46 DEBUG    chromadb.config Starting component Posthog
2023-07-07 09:27:46 DEBUG    chromadb.config Starting component Clickhouse
2023-07-07 09:27:46 DEBUG    chromadb.config Starting component LocalAPI
2023-07-07 09:27:46 INFO     uvicorn.error   Started server process [9]
2023-07-07 09:27:46 INFO     uvicorn.error   Waiting for application startup.
2023-07-07 09:27:46 INFO     uvicorn.error   Application startup complete.
2023-07-07 09:30:57 INFO     uvicorn.error   Will watch for changes in these directories: ['/chroma']
2023-07-07 09:30:57 INFO     uvicorn.error   Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2023-07-07 09:30:57 INFO     uvicorn.error   Started reloader process [1] using WatchFiles
2023-07-07 09:31:01 INFO     chromadb.telemetry.posthog Anonymized telemetry enabled. See https://docs.trychroma.com/telemetry for more information.
2023-07-07 09:31:03 DEBUG    chromadb.config Starting component System
2023-07-07 09:31:03 DEBUG    chromadb.config Starting component Posthog
2023-07-07 09:31:03 DEBUG    chromadb.config Starting component Clickhouse
2023-07-07 09:31:03 DEBUG    chromadb.config Starting component LocalAPI
2023-07-07 09:31:03 INFO     uvicorn.error   Started server process [8]
2023-07-07 09:31:03 INFO     uvicorn.error   Waiting for application startup.
2023-07-07 09:31:03 INFO     uvicorn.error   Application startup complete.
2023-07-07 09:31:09 INFO     chromadb.db.clickhouse collection with name data already exists, returning existing collection
2023-07-07 09:31:09 INFO     uvicorn.access  172.21.0.6:48520 - "POST /api/v1/collections HTTP/1.1" 200
2023-07-07 09:31:14 INFO     chromadb.db.clickhouse collection with name data already exists, returning existing collection
2023-07-07 09:31:14 INFO     uvicorn.access  172.21.0.6:48534 - "POST /api/v1/collections HTTP/1.1" 200
2023-07-07 09:31:49 INFO     uvicorn.error   Shutting down
2023-07-07 09:31:49 INFO     uvicorn.error   Waiting for application shutdown.
2023-07-07 09:31:49 INFO     uvicorn.error   Application shutdown complete.
2023-07-07 09:31:49 INFO     uvicorn.error   Finished server process [8]
2023-07-07 09:31:50 INFO     uvicorn.error   Stopping reloader process [1]
2023-07-07 09:34:23 INFO     uvicorn.error   Will watch for changes in these directories: ['/chroma']
2023-07-07 09:34:23 INFO     uvicorn.error   Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2023-07-07 09:34:23 INFO     uvicorn.error   Started reloader process [1] using WatchFiles
2023-07-07 09:34:43 INFO     chromadb.telemetry.posthog Anonymized telemetry enabled. See https://docs.trychroma.com/telemetry for more information.
2023-07-07 09:34:52 DEBUG    chromadb.config Starting component System
2023-07-07 09:34:52 DEBUG    chromadb.config Starting component Posthog
2023-07-07 09:34:52 DEBUG    chromadb.config Starting component Clickhouse
2023-07-07 09:34:52 DEBUG    chromadb.config Starting component LocalAPI
2023-07-07 09:34:52 INFO     uvicorn.error   Started server process [8]
2023-07-07 09:34:52 INFO     uvicorn.error   Waiting for application startup.
2023-07-07 09:34:52 INFO     uvicorn.error   Application startup complete.
2023-07-07 09:35:16 INFO     chromadb.db.clickhouse collection with name data already exists, returning existing collection
2023-07-07 09:35:16 INFO     uvicorn.access  172.21.0.6:48584 - "POST /api/v1/collections HTTP/1.1" 200
2023-07-07 09:35:38 INFO     chromadb.db.clickhouse collection with name data already exists, returning existing collection
2023-07-07 09:35:38 INFO     uvicorn.access  172.21.0.6:48602 - "POST /api/v1/collections HTTP/1.1" 200
2023-07-07 09:39:53 INFO     uvicorn.error   Shutting down
2023-07-07 09:39:53 INFO     uvicorn.error   Waiting for application shutdown.
2023-07-07 09:39:53 INFO     uvicorn.error   Application shutdown complete.
2023-07-07 09:39:53 INFO     uvicorn.error   Finished server process [8]
2023-07-07 09:39:53 INFO     uvicorn.error   Stopping reloader process [1]
2023-07-07 09:45:01 INFO     uvicorn.error   Will watch for changes in these directories: ['/chroma']
2023-07-07 09:45:01 INFO     uvicorn.error   Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2023-07-07 09:45:01 INFO     uvicorn.error   Started reloader process [1] using WatchFiles
2023-07-07 09:45:21 INFO     chromadb.telemetry.posthog Anonymized telemetry enabled. See https://docs.trychroma.com/telemetry for more information.
2023-07-07 09:45:22 DEBUG    chromadb.config Starting component System
2023-07-07 09:45:22 DEBUG    chromadb.config Starting component Posthog
2023-07-07 09:45:22 DEBUG    chromadb.config Starting component Clickhouse
2023-07-07 09:45:22 DEBUG    chromadb.config Starting component LocalAPI
2023-07-07 09:45:22 INFO     uvicorn.error   Started server process [8]
2023-07-07 09:45:22 INFO     uvicorn.error   Waiting for application startup.
2023-07-07 09:45:22 INFO     uvicorn.error   Application startup complete.
2023-07-07 09:46:35 INFO     chromadb.db.clickhouse collection with name data already exists, returning existing collection
2023-07-07 09:46:35 INFO     uvicorn.access  172.22.0.4:43132 - "POST /api/v1/collections HTTP/1.1" 200
2023-07-07 09:46:41 INFO     chromadb.db.clickhouse collection with name data already exists, returning existing collection
2023-07-07 09:46:41 INFO     uvicorn.access  172.22.0.4:43142 - "POST /api/v1/collections HTTP/1.1" 200
2023-07-07 09:53:33 INFO     chromadb.db.clickhouse collection with name data already exists, returning existing collection
2023-07-07 09:53:33 INFO     uvicorn.access  172.22.0.4:43202 - "POST /api/v1/collections HTTP/1.1" 200
2023-07-07 10:04:23 INFO     chromadb.db.clickhouse collection with name data already exists, returning existing collection
2023-07-07 10:04:23 INFO     uvicorn.access  172.22.0.4:43388 - "POST /api/v1/collections HTTP/1.1" 200
2023-07-07 10:05:44 INFO     chromadb.db.clickhouse collection with name data already exists, returning existing collection
2023-07-07 10:05:44 INFO     uvicorn.access  172.22.0.4:43434 - "POST /api/v1/collections HTTP/1.1" 200
2023-07-07 10:07:04 INFO     uvicorn.error   Shutting down
2023-07-07 10:07:04 INFO     uvicorn.error   Waiting for application shutdown.
2023-07-07 10:07:04 INFO     uvicorn.error   Application shutdown complete.
2023-07-07 10:07:04 INFO     uvicorn.error   Finished server process [8]
2023-07-07 10:07:05 INFO     uvicorn.error   Stopping reloader process [1]
2023-07-07 10:36:28 INFO     uvicorn.error   Will watch for changes in these directories: ['/chroma']
2023-07-07 10:36:28 INFO     uvicorn.error   Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2023-07-07 10:36:28 INFO     uvicorn.error   Started reloader process [1] using WatchFiles
2023-07-07 10:36:29 INFO     chromadb.telemetry.posthog Anonymized telemetry enabled. See https://docs.trychroma.com/telemetry for more information.
2023-07-07 10:36:29 DEBUG    chromadb.config Starting component System
2023-07-07 10:36:29 DEBUG    chromadb.config Starting component Posthog
2023-07-07 10:36:29 DEBUG    chromadb.config Starting component Clickhouse
2023-07-07 10:36:29 DEBUG    chromadb.config Starting component LocalAPI
2023-07-07 10:36:29 INFO     uvicorn.error   Started server process [8]
2023-07-07 10:36:29 INFO     uvicorn.error   Waiting for application startup.
2023-07-07 10:36:30 INFO     uvicorn.error   Application startup complete.
2023-07-07 10:41:00 INFO     uvicorn.error   Shutting down
2023-07-07 10:41:00 INFO     uvicorn.error   Waiting for application shutdown.
2023-07-07 10:41:00 INFO     uvicorn.error   Application shutdown complete.
2023-07-07 10:41:00 INFO     uvicorn.error   Finished server process [8]
2023-07-07 10:41:00 INFO     uvicorn.error   Stopping reloader process [1]
2023-07-07 10:42:25 INFO     uvicorn.error   Will watch for changes in these directories: ['/chroma']
2023-07-07 10:42:25 INFO     uvicorn.error   Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2023-07-07 10:42:25 INFO     uvicorn.error   Started reloader process [1] using WatchFiles
2023-07-07 10:42:26 INFO     chromadb.telemetry.posthog Anonymized telemetry enabled. See https://docs.trychroma.com/telemetry for more information.
2023-07-07 10:42:27 DEBUG    chromadb.config Starting component System
2023-07-07 10:42:27 DEBUG    chromadb.config Starting component Posthog
2023-07-07 10:42:27 DEBUG    chromadb.config Starting component Clickhouse
2023-07-07 10:42:27 DEBUG    chromadb.config Starting component LocalAPI
2023-07-07 10:42:27 INFO     uvicorn.error   Started server process [8]
2023-07-07 10:42:27 INFO     uvicorn.error   Waiting for application startup.
2023-07-07 10:42:27 INFO     uvicorn.error   Application startup complete.
2023-07-07 10:58:54 INFO     uvicorn.error   Shutting down
2023-07-07 10:58:54 INFO     uvicorn.error   Waiting for application shutdown.
2023-07-07 10:58:54 INFO     uvicorn.error   Application shutdown complete.
2023-07-07 10:58:54 INFO     uvicorn.error   Finished server process [8]
2023-07-07 10:58:54 INFO     uvicorn.error   Stopping reloader process [1]
2023-07-07 11:11:09 INFO     uvicorn.error   Will watch for changes in these directories: ['/chroma']
2023-07-07 11:11:09 INFO     uvicorn.error   Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2023-07-07 11:11:09 INFO     uvicorn.error   Started reloader process [1] using WatchFiles
2023-07-07 11:11:11 INFO     chromadb.telemetry.posthog Anonymized telemetry enabled. See https://docs.trychroma.com/telemetry for more information.
2023-07-07 11:11:12 DEBUG    chromadb.config Starting component System
2023-07-07 11:11:12 DEBUG    chromadb.config Starting component Posthog
2023-07-07 11:11:12 DEBUG    chromadb.config Starting component Clickhouse
2023-07-07 11:11:12 DEBUG    chromadb.config Starting component LocalAPI
2023-07-07 11:11:12 INFO     uvicorn.error   Started server process [8]
2023-07-07 11:11:12 INFO     uvicorn.error   Waiting for application startup.
2023-07-07 11:11:12 INFO     uvicorn.error   Application startup complete.
2023-07-07 11:15:17 INFO     uvicorn.error   Shutting down
2023-07-07 11:15:17 INFO     uvicorn.error   Waiting for application shutdown.
2023-07-07 11:15:17 INFO     uvicorn.error   Application shutdown complete.
2023-07-07 11:15:17 INFO     uvicorn.error   Finished server process [8]
2023-07-07 11:15:17 INFO     uvicorn.error   Stopping reloader process [1]
2023-07-07 11:15:32 INFO     uvicorn.error   Will watch for changes in these directories: ['/chroma']
2023-07-07 11:15:32 INFO     uvicorn.error   Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2023-07-07 11:15:32 INFO     uvicorn.error   Started reloader process [1] using WatchFiles
2023-07-07 11:15:36 INFO     chromadb.telemetry.posthog Anonymized telemetry enabled. See https://docs.trychroma.com/telemetry for more information.
2023-07-07 11:15:38 DEBUG    chromadb.config Starting component System
2023-07-07 11:15:38 DEBUG    chromadb.config Starting component Posthog
2023-07-07 11:15:38 DEBUG    chromadb.config Starting component Clickhouse
2023-07-07 11:15:38 DEBUG    chromadb.config Starting component LocalAPI
2023-07-07 11:15:38 INFO     uvicorn.error   Started server process [8]
2023-07-07 11:15:38 INFO     uvicorn.error   Waiting for application startup.
2023-07-07 11:15:38 INFO     uvicorn.error   Application startup complete.
2023-07-07 11:18:30 INFO     uvicorn.error   Shutting down
2023-07-07 11:18:30 INFO     uvicorn.error   Waiting for application shutdown.
2023-07-07 11:18:30 INFO     uvicorn.error   Application shutdown complete.
2023-07-07 11:18:30 INFO     uvicorn.error   Finished server process [8]
2023-07-07 11:18:31 INFO     uvicorn.error   Stopping reloader process [1]
2023-07-07 11:18:45 INFO     uvicorn.error   Will watch for changes in these directories: ['/chroma']
2023-07-07 11:18:45 INFO     uvicorn.error   Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2023-07-07 11:18:45 INFO     uvicorn.error   Started reloader process [1] using WatchFiles
2023-07-07 11:18:48 INFO     chromadb.telemetry.posthog Anonymized telemetry enabled. See https://docs.trychroma.com/telemetry for more information.
2023-07-07 11:18:50 DEBUG    chromadb.config Starting component System
2023-07-07 11:18:50 DEBUG    chromadb.config Starting component Posthog
2023-07-07 11:18:50 DEBUG    chromadb.config Starting component Clickhouse
2023-07-07 11:18:50 DEBUG    chromadb.config Starting component LocalAPI
2023-07-07 11:18:50 INFO     uvicorn.error   Started server process [8]
2023-07-07 11:18:50 INFO     uvicorn.error   Waiting for application startup.
2023-07-07 11:18:50 INFO     uvicorn.error   Application startup complete.
2023-07-07 11:18:59 INFO     chromadb.db.clickhouse collection with name data already exists, returning existing collection
2023-07-07 11:18:59 INFO     uvicorn.access  172.20.0.6:53122 - "POST /api/v1/collections HTTP/1.1" 200
2023-07-07 11:20:29 INFO     uvicorn.error   Shutting down
2023-07-07 11:20:29 INFO     uvicorn.error   Waiting for application shutdown.
2023-07-07 11:20:29 INFO     uvicorn.error   Application shutdown complete.
2023-07-07 11:20:29 INFO     uvicorn.error   Finished server process [8]
2023-07-07 11:20:29 INFO     uvicorn.error   Stopping reloader process [1]
2023-07-07 11:20:43 INFO     uvicorn.error   Will watch for changes in these directories: ['/chroma']
2023-07-07 11:20:43 INFO     uvicorn.error   Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2023-07-07 11:20:43 INFO     uvicorn.error   Started reloader process [1] using WatchFiles
2023-07-07 11:20:46 INFO     chromadb.telemetry.posthog Anonymized telemetry enabled. See https://docs.trychroma.com/telemetry for more information.
2023-07-07 11:20:46 DEBUG    chromadb.config Starting component System
2023-07-07 11:20:46 DEBUG    chromadb.config Starting component Posthog
2023-07-07 11:20:46 DEBUG    chromadb.config Starting component Clickhouse
2023-07-07 11:20:46 DEBUG    chromadb.config Starting component LocalAPI
2023-07-07 11:20:46 INFO     uvicorn.error   Started server process [8]
2023-07-07 11:20:46 INFO     uvicorn.error   Waiting for application startup.
2023-07-07 11:20:46 INFO     uvicorn.error   Application startup complete.
2023-07-07 11:20:54 INFO     chromadb.db.clickhouse collection with name data already exists, returning existing collection
2023-07-07 11:20:54 INFO     uvicorn.access  172.20.0.6:57384 - "POST /api/v1/collections HTTP/1.1" 200
2023-07-07 11:21:03 INFO     chromadb.db.clickhouse collection with name data already exists, returning existing collection
2023-07-07 11:21:03 INFO     uvicorn.access  172.20.0.6:57394 - "POST /api/v1/collections HTTP/1.1" 200
2023-07-07 11:21:11 INFO     chromadb.db.clickhouse collection with name data already exists, returning existing collection
2023-07-07 11:21:11 INFO     uvicorn.access  172.20.0.6:57404 - "POST /api/v1/collections HTTP/1.1" 200
2023-07-07 11:21:21 INFO     chromadb.db.clickhouse collection with name data already exists, returning existing collection
2023-07-07 11:21:21 INFO     uvicorn.access  172.20.0.6:57414 - "POST /api/v1/collections HTTP/1.1" 200
2023-07-07 11:21:28 INFO     chromadb.db.clickhouse collection with name data already exists, returning existing collection
2023-07-07 11:21:28 INFO     uvicorn.access  172.20.0.6:57424 - "POST /api/v1/collections HTTP/1.1" 200
2023-07-07 11:21:36 INFO     chromadb.db.clickhouse collection with name data already exists, returning existing collection
2023-07-07 11:21:36 INFO     uvicorn.access  172.20.0.6:57434 - "POST /api/v1/collections HTTP/1.1" 200
2023-07-07 11:21:47 INFO     chromadb.db.clickhouse collection with name data already exists, returning existing collection
2023-07-07 11:21:47 INFO     uvicorn.access  172.20.0.6:57444 - "POST /api/v1/collections HTTP/1.1" 200
2023-07-07 11:22:01 INFO     chromadb.db.clickhouse collection with name data already exists, returning existing collection
2023-07-07 11:22:01 INFO     uvicorn.access  172.20.0.6:57454 - "POST /api/v1/collections HTTP/1.1" 200
2023-07-07 11:22:06 INFO     chromadb.db.clickhouse collection with name data already exists, returning existing collection
2023-07-07 11:22:06 INFO     uvicorn.access  172.20.0.6:57464 - "POST /api/v1/collections HTTP/1.1" 200
2023-07-07 11:22:08 INFO     uvicorn.error   Shutting down
2023-07-07 11:22:08 INFO     uvicorn.error   Waiting for application shutdown.
2023-07-07 11:22:08 INFO     uvicorn.error   Application shutdown complete.
2023-07-07 11:22:08 INFO     uvicorn.error   Finished server process [8]
2023-07-07 11:22:08 INFO     uvicorn.error   Stopping reloader process [1]
2023-07-07 11:22:23 INFO     uvicorn.error   Will watch for changes in these directories: ['/chroma']
2023-07-07 11:22:23 INFO     uvicorn.error   Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2023-07-07 11:22:23 INFO     uvicorn.error   Started reloader process [1] using WatchFiles
2023-07-07 11:22:26 INFO     chromadb.telemetry.posthog Anonymized telemetry enabled. See https://docs.trychroma.com/telemetry for more information.
2023-07-07 11:22:28 DEBUG    chromadb.config Starting component System
2023-07-07 11:22:28 DEBUG    chromadb.config Starting component Posthog
2023-07-07 11:22:28 DEBUG    chromadb.config Starting component Clickhouse
2023-07-07 11:22:28 DEBUG    chromadb.config Starting component LocalAPI
2023-07-07 11:22:28 INFO     uvicorn.error   Started server process [8]
2023-07-07 11:22:28 INFO     uvicorn.error   Waiting for application startup.
2023-07-07 11:22:28 INFO     uvicorn.error   Application startup complete.
2023-07-07 11:22:34 INFO     chromadb.db.clickhouse collection with name data already exists, returning existing collection
2023-07-07 11:22:35 INFO     uvicorn.access  172.20.0.6:53270 - "POST /api/v1/collections HTTP/1.1" 200
2023-07-07 11:22:49 INFO     chromadb.db.clickhouse collection with name data already exists, returning existing collection
2023-07-07 11:22:49 INFO     uvicorn.access  172.20.0.6:53284 - "POST /api/v1/collections HTTP/1.1" 200
2023-07-07 12:51:05 INFO     chromadb.db.clickhouse collection with name data already exists, returning existing collection
2023-07-07 12:51:05 INFO     uvicorn.access  172.20.0.6:54124 - "POST /api/v1/collections HTTP/1.1" 200
2023-07-07 12:52:23 INFO     chromadb.db.clickhouse collection with name data already exists, returning existing collection
2023-07-07 12:52:23 INFO     uvicorn.access  172.20.0.6:54146 - "POST /api/v1/collections HTTP/1.1" 200
2023-07-07 13:25:55 INFO     chromadb.db.clickhouse collection with name data already exists, returning existing collection
2023-07-07 13:25:55 INFO     uvicorn.access  172.20.0.6:54468 - "POST /api/v1/collections HTTP/1.1" 200
2023-07-07 13:26:04 INFO     chromadb.db.clickhouse collection with name data already exists, returning existing collection
2023-07-07 13:26:04 INFO     uvicorn.access  172.20.0.6:54478 - "POST /api/v1/collections HTTP/1.1" 200
2023-07-07 13:26:13 INFO     chromadb.db.clickhouse collection with name data already exists, returning existing collection
2023-07-07 13:26:13 INFO     uvicorn.access  172.20.0.6:54488 - "POST /api/v1/collections HTTP/1.1" 200
2023-07-07 13:26:21 INFO     chromadb.db.clickhouse collection with name data already exists, returning existing collection
2023-07-07 13:26:21 INFO     uvicorn.access  172.20.0.6:54498 - "POST /api/v1/collections HTTP/1.1" 200
2023-07-07 13:26:28 INFO     chromadb.db.clickhouse collection with name data already exists, returning existing collection
2023-07-07 13:26:29 INFO     uvicorn.access  172.20.0.6:54508 - "POST /api/v1/collections HTTP/1.1" 200
2023-07-07 13:26:38 INFO     chromadb.db.clickhouse collection with name data already exists, returning existing collection
2023-07-07 13:26:38 INFO     uvicorn.access  172.20.0.6:54518 - "POST /api/v1/collections HTTP/1.1" 200
2023-07-07 13:26:49 INFO     chromadb.db.clickhouse collection with name data already exists, returning existing collection
2023-07-07 13:26:49 INFO     uvicorn.access  172.20.0.6:54528 - "POST /api/v1/collections HTTP/1.1" 200
2023-07-07 13:27:02 INFO     chromadb.db.clickhouse collection with name data already exists, returning existing collection
2023-07-07 13:27:02 INFO     uvicorn.access  172.20.0.6:54552 - "POST /api/v1/collections HTTP/1.1" 200
2023-07-07 13:27:22 INFO     chromadb.db.clickhouse collection with name data already exists, returning existing collection
2023-07-07 13:27:22 INFO     uvicorn.access  172.20.0.6:54562 - "POST /api/v1/collections HTTP/1.1" 200
2023-07-07 13:27:55 INFO     chromadb.db.clickhouse collection with name data already exists, returning existing collection
2023-07-07 13:27:55 INFO     uvicorn.access  172.20.0.6:54572 - "POST /api/v1/collections HTTP/1.1" 200
2023-07-07 13:27:58 INFO     chromadb.db.clickhouse collection with name data already exists, returning existing collection
2023-07-07 13:27:58 INFO     uvicorn.access  172.20.0.6:54582 - "POST /api/v1/collections HTTP/1.1" 200
2023-07-07 13:35:27 INFO     chromadb.db.clickhouse collection with name data already exists, returning existing collection
2023-07-07 13:35:27 INFO     uvicorn.access  172.20.0.6:54672 - "POST /api/v1/collections HTTP/1.1" 200
2023-07-07 13:35:45 INFO     chromadb.db.clickhouse collection with name data already exists, returning existing collection
2023-07-07 13:35:45 INFO     uvicorn.access  172.20.0.6:54682 - "POST /api/v1/collections HTTP/1.1" 200
2023-07-07 13:42:20 INFO     chromadb.db.clickhouse collection with name data already exists, returning existing collection
2023-07-07 13:42:20 INFO     uvicorn.access  172.20.0.6:54728 - "POST /api/v1/collections HTTP/1.1" 200
2023-07-07 13:46:55 INFO     chromadb.db.clickhouse collection with name data already exists, returning existing collection
2023-07-07 13:46:55 INFO     uvicorn.access  172.20.0.6:54852 - "POST /api/v1/collections HTTP/1.1" 200
2023-07-07 13:56:08 INFO     chromadb.db.clickhouse collection with name data already exists, returning existing collection
2023-07-07 13:56:08 INFO     uvicorn.access  172.20.0.6:54862 - "POST /api/v1/collections HTTP/1.1" 200
2023-07-07 13:57:05 INFO     chromadb.db.clickhouse collection with name data already exists, returning existing collection
2023-07-07 13:57:05 INFO     uvicorn.access  172.20.0.6:54872 - "POST /api/v1/collections HTTP/1.1" 200
2023-07-07 14:00:48 INFO     chromadb.db.clickhouse collection with name data already exists, returning existing collection
2023-07-07 14:00:48 INFO     uvicorn.access  172.20.0.6:54882 - "POST /api/v1/collections HTTP/1.1" 200
2023-07-07 14:02:21 INFO     chromadb.db.clickhouse collection with name data already exists, returning existing collection
2023-07-07 14:02:21 INFO     uvicorn.access  172.20.0.6:54892 - "POST /api/v1/collections HTTP/1.1" 200
2023-07-07 14:13:25 INFO     chromadb.db.clickhouse collection with name data already exists, returning existing collection
2023-07-07 14:13:25 INFO     uvicorn.access  172.20.0.6:55016 - "POST /api/v1/collections HTTP/1.1" 200
2023-07-07 14:13:52 INFO     chromadb.db.clickhouse collection with name data already exists, returning existing collection
2023-07-07 14:13:52 INFO     uvicorn.access  172.20.0.6:55026 - "POST /api/v1/collections HTTP/1.1" 200
2023-07-07 14:15:59 INFO     chromadb.db.clickhouse collection with name data already exists, returning existing collection
2023-07-07 14:15:59 INFO     uvicorn.access  172.20.0.6:55078 - "POST /api/v1/collections HTTP/1.1" 200
2023-07-07 14:22:10 INFO     chromadb.db.clickhouse collection with name data already exists, returning existing collection
2023-07-07 14:22:10 INFO     uvicorn.access  172.20.0.6:55202 - "POST /api/v1/collections HTTP/1.1" 200
2023-07-07 14:42:02 INFO     uvicorn.error   Shutting down
2023-07-07 14:42:02 INFO     uvicorn.error   Waiting for application shutdown.
2023-07-07 14:42:02 INFO     uvicorn.error   Application shutdown complete.
2023-07-07 14:42:02 INFO     uvicorn.error   Finished server process [8]
2023-07-07 14:42:03 INFO     uvicorn.error   Stopping reloader process [1]
2023-07-07 14:44:15 INFO     uvicorn.error   Will watch for changes in these directories: ['/chroma']
2023-07-07 14:44:15 INFO     uvicorn.error   Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2023-07-07 14:44:15 INFO     uvicorn.error   Started reloader process [1] using WatchFiles
2023-07-07 14:44:20 INFO     chromadb.telemetry.posthog Anonymized telemetry enabled. See https://docs.trychroma.com/telemetry for more information.
2023-07-07 14:44:22 DEBUG    chromadb.config Starting component System
2023-07-07 14:44:22 DEBUG    chromadb.config Starting component Posthog
2023-07-07 14:44:22 DEBUG    chromadb.config Starting component Clickhouse
2023-07-07 14:44:22 DEBUG    chromadb.config Starting component LocalAPI
2023-07-07 14:44:22 INFO     uvicorn.error   Started server process [8]
2023-07-07 14:44:22 INFO     uvicorn.error   Waiting for application startup.
2023-07-07 14:44:22 INFO     uvicorn.error   Application startup complete.
2023-07-07 14:45:56 INFO     uvicorn.error   Shutting down
2023-07-07 14:45:56 INFO     uvicorn.error   Waiting for application shutdown.
2023-07-07 14:45:56 INFO     uvicorn.error   Application shutdown complete.
2023-07-07 14:45:56 INFO     uvicorn.error   Finished server process [8]
2023-07-07 14:45:57 INFO     uvicorn.error   Stopping reloader process [1]
2023-07-07 14:48:37 INFO     uvicorn.error   Will watch for changes in these directories: ['/chroma']
2023-07-07 14:48:37 INFO     uvicorn.error   Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2023-07-07 14:48:37 INFO     uvicorn.error   Started reloader process [1] using WatchFiles
2023-07-07 14:48:42 INFO     chromadb.telemetry.posthog Anonymized telemetry enabled. See https://docs.trychroma.com/telemetry for more information.
2023-07-07 14:48:43 DEBUG    chromadb.config Starting component System
2023-07-07 14:48:43 DEBUG    chromadb.config Starting component Posthog
2023-07-07 14:48:43 DEBUG    chromadb.config Starting component Clickhouse
2023-07-07 14:48:43 DEBUG    chromadb.config Starting component LocalAPI
2023-07-07 14:48:43 INFO     uvicorn.error   Started server process [8]
2023-07-07 14:48:43 INFO     uvicorn.error   Waiting for application startup.
2023-07-07 14:48:43 INFO     uvicorn.error   Application startup complete.
2023-07-07 14:48:48 INFO     chromadb.db.clickhouse collection with name data already exists, returning existing collection
2023-07-07 14:48:48 INFO     uvicorn.access  172.20.0.6:55360 - "POST /api/v1/collections HTTP/1.1" 200
2023-07-07 14:49:02 INFO     chromadb.db.clickhouse collection with name data already exists, returning existing collection
2023-07-07 14:49:02 INFO     uvicorn.access  172.20.0.6:55374 - "POST /api/v1/collections HTTP/1.1" 200
2023-07-07 14:49:52 INFO     uvicorn.error   Shutting down
2023-07-07 14:49:52 INFO     uvicorn.error   Waiting for application shutdown.
2023-07-07 14:49:52 INFO     uvicorn.error   Application shutdown complete.
2023-07-07 14:49:52 INFO     uvicorn.error   Finished server process [8]
2023-07-07 14:49:53 INFO     uvicorn.error   Stopping reloader process [1]
2023-07-07 14:52:07 INFO     uvicorn.error   Will watch for changes in these directories: ['/chroma']
2023-07-07 14:52:07 INFO     uvicorn.error   Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2023-07-07 14:52:07 INFO     uvicorn.error   Started reloader process [1] using WatchFiles
2023-07-07 14:52:14 INFO     chromadb.telemetry.posthog Anonymized telemetry enabled. See https://docs.trychroma.com/telemetry for more information.
2023-07-07 14:52:15 DEBUG    chromadb.config Starting component System
2023-07-07 14:52:15 DEBUG    chromadb.config Starting component Posthog
2023-07-07 14:52:15 DEBUG    chromadb.config Starting component Clickhouse
2023-07-07 14:52:15 DEBUG    chromadb.config Starting component LocalAPI
2023-07-07 14:52:15 INFO     uvicorn.error   Started server process [8]
2023-07-07 14:52:15 INFO     uvicorn.error   Waiting for application startup.
2023-07-07 14:52:15 INFO     uvicorn.error   Application startup complete.
2023-07-07 14:52:25 INFO     chromadb.db.clickhouse collection with name data already exists, returning existing collection
2023-07-07 14:52:25 INFO     uvicorn.access  172.20.0.6:55408 - "POST /api/v1/collections HTTP/1.1" 200
2023-07-07 14:52:40 INFO     chromadb.db.clickhouse collection with name data already exists, returning existing collection
2023-07-07 14:52:40 INFO     uvicorn.access  172.20.0.6:55418 - "POST /api/v1/collections HTTP/1.1" 200
2023-07-07 15:05:24 INFO     uvicorn.error   Shutting down
2023-07-07 15:05:24 INFO     uvicorn.error   Waiting for application shutdown.
2023-07-07 15:05:24 INFO     uvicorn.error   Application shutdown complete.
2023-07-07 15:05:24 INFO     uvicorn.error   Finished server process [8]
2023-07-07 15:05:25 INFO     uvicorn.error   Stopping reloader process [1]
2023-07-07 15:07:38 INFO     uvicorn.error   Will watch for changes in these directories: ['/chroma']
2023-07-07 15:07:38 INFO     uvicorn.error   Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2023-07-07 15:07:38 INFO     uvicorn.error   Started reloader process [1] using WatchFiles
2023-07-07 15:07:42 INFO     chromadb.telemetry.posthog Anonymized telemetry enabled. See https://docs.trychroma.com/telemetry for more information.
2023-07-07 15:07:44 DEBUG    chromadb.config Starting component System
2023-07-07 15:07:44 DEBUG    chromadb.config Starting component Posthog
2023-07-07 15:07:44 DEBUG    chromadb.config Starting component Clickhouse
2023-07-07 15:07:44 DEBUG    chromadb.config Starting component LocalAPI
2023-07-07 15:07:44 INFO     uvicorn.error   Started server process [8]
2023-07-07 15:07:44 INFO     uvicorn.error   Waiting for application startup.
2023-07-07 15:07:44 INFO     uvicorn.error   Application startup complete.
2023-07-07 15:07:49 INFO     chromadb.db.clickhouse collection with name data already exists, returning existing collection
2023-07-07 15:07:49 INFO     uvicorn.access  172.20.0.6:55548 - "POST /api/v1/collections HTTP/1.1" 200
2023-07-07 15:08:02 INFO     chromadb.db.clickhouse collection with name data already exists, returning existing collection
2023-07-07 15:08:02 INFO     uvicorn.access  172.20.0.6:55558 - "POST /api/v1/collections HTTP/1.1" 200
2023-07-07 15:12:14 INFO     uvicorn.error   Shutting down
2023-07-07 15:12:15 INFO     uvicorn.error   Waiting for application shutdown.
2023-07-07 15:12:15 INFO     uvicorn.error   Application shutdown complete.
2023-07-07 15:12:15 INFO     uvicorn.error   Finished server process [8]
2023-07-07 15:12:15 INFO     uvicorn.error   Stopping reloader process [1]
2023-07-09 11:04:16 INFO     uvicorn.error   Will watch for changes in these directories: ['/chroma']
2023-07-09 11:04:16 INFO     uvicorn.error   Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2023-07-09 11:04:16 INFO     uvicorn.error   Started reloader process [1] using WatchFiles
2023-07-09 11:04:18 INFO     chromadb.telemetry.posthog Anonymized telemetry enabled. See https://docs.trychroma.com/telemetry for more information.
2023-07-09 11:04:19 DEBUG    chromadb.config Starting component System
2023-07-09 11:04:19 DEBUG    chromadb.config Starting component Posthog
2023-07-09 11:04:19 DEBUG    chromadb.config Starting component Clickhouse
2023-07-09 11:04:19 DEBUG    chromadb.config Starting component LocalAPI
2023-07-09 11:04:19 INFO     uvicorn.error   Started server process [8]
2023-07-09 11:04:19 INFO     uvicorn.error   Waiting for application startup.
2023-07-09 11:04:19 INFO     uvicorn.error   Application startup complete.
2023-07-09 11:04:20 INFO     uvicorn.error   Shutting down
2023-07-09 11:04:20 INFO     uvicorn.error   Waiting for application shutdown.
2023-07-09 11:04:20 INFO     uvicorn.error   Application shutdown complete.
2023-07-09 11:04:20 INFO     uvicorn.error   Finished server process [8]
2023-07-09 11:04:21 INFO     uvicorn.error   Stopping reloader process [1]
2023-07-09 11:29:18 INFO     uvicorn.error   Will watch for changes in these directories: ['/chroma']
2023-07-09 11:29:18 INFO     uvicorn.error   Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2023-07-09 11:29:18 INFO     uvicorn.error   Started reloader process [1] using WatchFiles
2023-07-09 11:29:21 INFO     chromadb.telemetry.posthog Anonymized telemetry enabled. See https://docs.trychroma.com/telemetry for more information.
2023-07-09 11:29:23 DEBUG    chromadb.config Starting component System
2023-07-09 11:29:23 DEBUG    chromadb.config Starting component Posthog
2023-07-09 11:29:23 DEBUG    chromadb.config Starting component Clickhouse
2023-07-09 11:29:23 DEBUG    chromadb.config Starting component LocalAPI
2023-07-09 11:29:23 INFO     uvicorn.error   Started server process [8]
2023-07-09 11:29:23 INFO     uvicorn.error   Waiting for application startup.
2023-07-09 11:29:23 INFO     uvicorn.error   Application startup complete.
2023-07-09 11:29:26 INFO     uvicorn.access  172.20.0.6:46850 - "POST /api/v1/collections HTTP/1.1" 200
2023-07-09 11:29:33 INFO     chromadb.db.clickhouse collection with name my_collection already exists, returning existing collection
2023-07-09 11:29:33 INFO     uvicorn.access  172.20.0.6:46860 - "POST /api/v1/collections HTTP/1.1" 200
2023-07-09 11:35:07 INFO     uvicorn.access  172.20.0.1:55028 - "POST /api/v1/collections HTTP/1.1" 200
2023-07-09 11:42:12 INFO     uvicorn.access  172.20.0.1:55034 - "GET /api/v1/collections HTTP/1.1" 200
2023-07-09 11:42:51 INFO     uvicorn.access  172.20.0.1:55040 - "POST /api/v1/reset HTTP/1.1" 200
2023-07-09 11:42:54 INFO     uvicorn.access  172.20.0.1:55046 - "GET /api/v1/collections HTTP/1.1" 200
2023-07-09 11:43:18 INFO     uvicorn.access  172.20.0.1:55052 - "POST /api/v1/collections HTTP/1.1" 200
2023-07-09 11:43:21 INFO     uvicorn.access  172.20.0.1:55058 - "GET /api/v1/collections HTTP/1.1" 200
2023-07-09 11:43:39 INFO     uvicorn.access  172.20.0.1:55064 - "GET /api/v1/collections/6e2d30d9-2d05-4312-9f3e-a1449a24b413/count HTTP/1.1" 200
2023-07-09 11:55:04 INFO     uvicorn.access  172.20.0.1:55070 - "GET /api/v1/collections HTTP/1.1" 200
2023-07-09 11:55:24 INFO     uvicorn.access  172.20.0.1:55076 - "GET /api/v1/collections/data HTTP/1.1" 200
2023-07-09 12:04:39 INFO     uvicorn.error   Shutting down
2023-07-09 12:04:39 INFO     uvicorn.error   Waiting for application shutdown.
2023-07-09 12:04:39 INFO     uvicorn.error   Application shutdown complete.
2023-07-09 12:04:39 INFO     uvicorn.error   Finished server process [8]
2023-07-09 12:04:40 INFO     uvicorn.error   Stopping reloader process [1]
2023-07-09 12:21:20 INFO     uvicorn.error   Will watch for changes in these directories: ['/chroma']
2023-07-09 12:21:20 INFO     uvicorn.error   Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2023-07-09 12:21:20 INFO     uvicorn.error   Started reloader process [1] using WatchFiles
2023-07-09 12:21:23 INFO     chromadb.telemetry.posthog Anonymized telemetry enabled. See https://docs.trychroma.com/telemetry for more information.
2023-07-09 12:21:24 DEBUG    chromadb.config Starting component System
2023-07-09 12:21:24 DEBUG    chromadb.config Starting component Posthog
2023-07-09 12:21:24 DEBUG    chromadb.config Starting component Clickhouse
2023-07-09 12:21:24 DEBUG    chromadb.config Starting component LocalAPI
2023-07-09 12:21:24 INFO     uvicorn.error   Started server process [8]
2023-07-09 12:21:24 INFO     uvicorn.error   Waiting for application startup.
2023-07-09 12:21:24 INFO     uvicorn.error   Application startup complete.
2023-07-09 12:22:31 INFO     uvicorn.error   Shutting down
2023-07-09 12:22:31 INFO     uvicorn.error   Waiting for application shutdown.
2023-07-09 12:22:31 INFO     uvicorn.error   Application shutdown complete.
2023-07-09 12:22:31 INFO     uvicorn.error   Finished server process [8]
2023-07-09 12:22:32 INFO     uvicorn.error   Stopping reloader process [1]
2023-07-09 12:29:23 INFO     uvicorn.error   Will watch for changes in these directories: ['/chroma']
2023-07-09 12:29:23 INFO     uvicorn.error   Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2023-07-09 12:29:23 INFO     uvicorn.error   Started reloader process [1] using WatchFiles
2023-07-09 12:29:26 INFO     chromadb.telemetry.posthog Anonymized telemetry enabled. See https://docs.trychroma.com/telemetry for more information.
2023-07-09 12:29:27 DEBUG    chromadb.config Starting component System
2023-07-09 12:29:27 DEBUG    chromadb.config Starting component Posthog
2023-07-09 12:29:27 DEBUG    chromadb.config Starting component Clickhouse
2023-07-09 12:29:27 DEBUG    chromadb.config Starting component LocalAPI
2023-07-09 12:29:27 INFO     uvicorn.error   Started server process [8]
2023-07-09 12:29:27 INFO     uvicorn.error   Waiting for application startup.
2023-07-09 12:29:27 INFO     uvicorn.error   Application startup complete.
2023-07-09 12:36:50 INFO     uvicorn.error   Shutting down
2023-07-09 12:36:50 INFO     uvicorn.error   Waiting for application shutdown.
2023-07-09 12:36:50 INFO     uvicorn.error   Application shutdown complete.
2023-07-09 12:36:50 INFO     uvicorn.error   Finished server process [8]
2023-07-09 12:36:51 INFO     uvicorn.error   Stopping reloader process [1]
2023-07-09 12:48:29 INFO     uvicorn.error   Will watch for changes in these directories: ['/chroma']
2023-07-09 12:48:29 INFO     uvicorn.error   Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2023-07-09 12:48:29 INFO     uvicorn.error   Started reloader process [1] using WatchFiles
2023-07-09 12:48:33 INFO     chromadb.telemetry.posthog Anonymized telemetry enabled. See https://docs.trychroma.com/telemetry for more information.
2023-07-09 12:48:34 DEBUG    chromadb.config Starting component System
2023-07-09 12:48:34 DEBUG    chromadb.config Starting component Posthog
2023-07-09 12:48:34 DEBUG    chromadb.config Starting component Clickhouse
2023-07-09 12:48:34 DEBUG    chromadb.config Starting component LocalAPI
2023-07-09 12:48:34 INFO     uvicorn.error   Started server process [8]
2023-07-09 12:48:34 INFO     uvicorn.error   Waiting for application startup.
2023-07-09 12:48:34 INFO     uvicorn.error   Application startup complete.
2023-07-09 12:52:25 INFO     uvicorn.error   Shutting down
2023-07-09 12:52:25 INFO     uvicorn.error   Waiting for application shutdown.
2023-07-09 12:52:25 INFO     uvicorn.error   Application shutdown complete.
2023-07-09 12:52:25 INFO     uvicorn.error   Finished server process [8]
2023-07-09 12:52:25 INFO     uvicorn.error   Stopping reloader process [1]
2023-07-09 12:53:56 INFO     uvicorn.error   Will watch for changes in these directories: ['/chroma']
2023-07-09 12:53:56 INFO     uvicorn.error   Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2023-07-09 12:53:56 INFO     uvicorn.error   Started reloader process [1] using WatchFiles
2023-07-09 12:53:59 INFO     chromadb.telemetry.posthog Anonymized telemetry enabled. See https://docs.trychroma.com/telemetry for more information.
2023-07-09 12:54:00 DEBUG    chromadb.config Starting component System
2023-07-09 12:54:00 DEBUG    chromadb.config Starting component Posthog
2023-07-09 12:54:00 DEBUG    chromadb.config Starting component Clickhouse
2023-07-09 12:54:00 DEBUG    chromadb.config Starting component LocalAPI
2023-07-09 12:54:00 INFO     uvicorn.error   Started server process [8]
2023-07-09 12:54:00 INFO     uvicorn.error   Waiting for application startup.
2023-07-09 12:54:00 INFO     uvicorn.error   Application startup complete.
2023-07-09 12:54:18 INFO     uvicorn.error   Shutting down
2023-07-09 12:54:18 INFO     uvicorn.error   Waiting for application shutdown.
2023-07-09 12:54:18 INFO     uvicorn.error   Application shutdown complete.
2023-07-09 12:54:18 INFO     uvicorn.error   Finished server process [8]
2023-07-09 12:54:19 INFO     uvicorn.error   Stopping reloader process [1]
2023-07-09 12:56:56 INFO     uvicorn.error   Will watch for changes in these directories: ['/chroma']
2023-07-09 12:56:56 INFO     uvicorn.error   Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2023-07-09 12:56:56 INFO     uvicorn.error   Started reloader process [1] using WatchFiles
2023-07-09 12:57:02 INFO     chromadb.telemetry.posthog Anonymized telemetry enabled. See https://docs.trychroma.com/telemetry for more information.
2023-07-09 12:57:03 DEBUG    chromadb.config Starting component System
2023-07-09 12:57:03 DEBUG    chromadb.config Starting component Posthog
2023-07-09 12:57:03 DEBUG    chromadb.config Starting component Clickhouse
2023-07-09 12:57:03 DEBUG    chromadb.config Starting component LocalAPI
2023-07-09 12:57:03 INFO     uvicorn.error   Started server process [8]
2023-07-09 12:57:03 INFO     uvicorn.error   Waiting for application startup.
2023-07-09 12:57:03 INFO     uvicorn.error   Application startup complete.
2023-07-09 12:57:19 INFO     uvicorn.error   Shutting down
2023-07-09 12:57:20 INFO     uvicorn.error   Waiting for application shutdown.
2023-07-09 12:57:20 INFO     uvicorn.error   Application shutdown complete.
2023-07-09 12:57:20 INFO     uvicorn.error   Finished server process [8]
2023-07-09 12:57:20 INFO     uvicorn.error   Stopping reloader process [1]
2023-07-09 13:17:58 INFO     uvicorn.error   Will watch for changes in these directories: ['/chroma']
2023-07-09 13:17:59 INFO     uvicorn.error   Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2023-07-09 13:17:59 INFO     uvicorn.error   Started reloader process [1] using WatchFiles
2023-07-09 13:18:04 INFO     chromadb.telemetry.posthog Anonymized telemetry enabled. See https://docs.trychroma.com/telemetry for more information.
2023-07-09 13:18:05 DEBUG    chromadb.config Starting component System
2023-07-09 13:18:05 DEBUG    chromadb.config Starting component Posthog
2023-07-09 13:18:05 DEBUG    chromadb.config Starting component Clickhouse
2023-07-09 13:18:05 DEBUG    chromadb.config Starting component LocalAPI
2023-07-09 13:18:05 INFO     uvicorn.error   Started server process [8]
2023-07-09 13:18:05 INFO     uvicorn.error   Waiting for application startup.
2023-07-09 13:18:05 INFO     uvicorn.error   Application startup complete.
2023-07-09 13:18:27 INFO     uvicorn.access  172.20.0.6:47120 - "POST /api/v1/collections HTTP/1.1" 200
2023-07-09 13:18:27 DEBUG    chromadb.db.index.hnswlib Index saved to .chroma/index/index.bin
2023-07-09 13:18:27 DEBUG    chromadb.db.index.hnswlib Index saved to .chroma/index/index.bin
2023-07-09 13:18:27 INFO     uvicorn.access  172.20.0.6:47124 - "POST /api/v1/collections/d9ee7941-dc0c-4aa9-acbd-b20ee45c27a1/add HTTP/1.1" 201
2023-07-09 13:18:27 DEBUG    chromadb.db.index.hnswlib time to pre process our knn query: 3.337860107421875e-06
2023-07-09 13:18:27 DEBUG    chromadb.db.index.hnswlib time to run knn query: 0.00023746490478515625
2023-07-09 13:18:27 INFO     uvicorn.access  172.20.0.6:47126 - "POST /api/v1/collections/d9ee7941-dc0c-4aa9-acbd-b20ee45c27a1/query HTTP/1.1" 200
2023-07-09 13:18:42 INFO     chromadb.db.clickhouse collection with name documents already exists, returning existing collection
2023-07-09 13:18:42 INFO     uvicorn.access  172.20.0.6:47134 - "POST /api/v1/collections HTTP/1.1" 200
2023-07-09 13:18:42 INFO     chromadb.api.local Adding 2 items with ids that already exist
2023-07-09 13:18:42 INFO     uvicorn.access  172.20.0.6:47138 - "POST /api/v1/collections/d9ee7941-dc0c-4aa9-acbd-b20ee45c27a1/add HTTP/1.1" 201
2023-07-09 13:18:42 DEBUG    chromadb.db.index.hnswlib time to pre process our knn query: 3.814697265625e-06
2023-07-09 13:18:42 DEBUG    chromadb.db.index.hnswlib time to run knn query: 0.0002143383026123047
2023-07-09 13:18:42 INFO     uvicorn.access  172.20.0.6:47140 - "POST /api/v1/collections/d9ee7941-dc0c-4aa9-acbd-b20ee45c27a1/query HTTP/1.1" 200
2023-07-09 13:21:42 ERROR    clickhouse_connect.driver.httpclient Code: 344. DB::Exception: Lightweight delete mutate is experimental. Set `allow_experimental_lightweight_delete` setting to enable it. (SUPPORT_IS_DISABLED) (version 22.9.7.34 (official build))

2023-07-09 13:21:42 ERROR    chromadb.server.fastapi :HTTPDriver for http://clickhouse:8123 returned response code 500)
 Code: 344. DB::Exception: Lightweight delete mutate is experimental. Set `allow_experimental_lightweight_delete` setting to enable it. (SUPPORT_IS_DISABLED) (version 22.9.7.34 (official build))
Traceback (most recent call last):
  File "/chroma/./chromadb/server/fastapi/__init__.py", line 57, in catch_exceptions_middleware
    return await call_next(request)
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 46, in call_next
    raise app_exc
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 36, in coro
    await self.app(scope, request.receive, send_stream.send)
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 75, in __call__
    raise exc
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 64, in __call__
    await self.app(scope, receive, sender)
  File "/usr/local/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/usr/local/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 275, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/usr/local/lib/python3.10/site-packages/fastapi/routing.py", line 231, in app
    raw_response = await run_endpoint_function(
  File "/usr/local/lib/python3.10/site-packages/fastapi/routing.py", line 162, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/usr/local/lib/python3.10/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
  File "/usr/local/lib/python3.10/site-packages/anyio/to_thread.py", line 33, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 877, in run_sync_in_worker_thread
    return await future
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 807, in run
    result = context.run(func, *args)
  File "/chroma/./chromadb/server/fastapi/__init__.py", line 194, in delete_collection
    return self._api.delete_collection(collection_name)
  File "/chroma/./chromadb/api/local.py", line 240, in delete_collection
    self._db.delete_collection(name)
  File "/chroma/./chromadb/db/clickhouse.py", line 250, in delete_collection
    self._get_conn().command(
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 296, in command
    response = self._raw_request(payload, params, headers, method)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 356, in _raw_request
    self._error_handler(response)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 312, in _error_handler
    raise OperationalError(err_str) if retried else DatabaseError(err_str) from None
clickhouse_connect.driver.exceptions.DatabaseError: :HTTPDriver for http://clickhouse:8123 returned response code 500)
 Code: 344. DB::Exception: Lightweight delete mutate is experimental. Set `allow_experimental_lightweight_delete` setting to enable it. (SUPPORT_IS_DISABLED) (version 22.9.7.34 (official build))

2023-07-09 13:21:42 INFO     uvicorn.access  172.20.0.1:55304 - "DELETE /api/v1/collections/data HTTP/1.1" 500
2023-07-09 13:23:18 INFO     uvicorn.error   Shutting down
2023-07-09 13:23:18 INFO     uvicorn.error   Waiting for application shutdown.
2023-07-09 13:23:18 INFO     uvicorn.error   Application shutdown complete.
2023-07-09 13:23:18 INFO     uvicorn.error   Finished server process [8]
2023-07-09 13:23:18 INFO     uvicorn.error   Stopping reloader process [1]
2023-07-09 13:23:43 INFO     uvicorn.error   Will watch for changes in these directories: ['/chroma']
2023-07-09 13:23:43 INFO     uvicorn.error   Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2023-07-09 13:23:43 INFO     uvicorn.error   Started reloader process [1] using WatchFiles
2023-07-09 13:23:45 INFO     chromadb.telemetry.posthog Anonymized telemetry enabled. See https://docs.trychroma.com/telemetry for more information.
2023-07-09 13:23:45 DEBUG    chromadb.config Starting component System
2023-07-09 13:23:45 DEBUG    chromadb.config Starting component Posthog
2023-07-09 13:23:45 DEBUG    chromadb.config Starting component Clickhouse
2023-07-09 13:23:45 DEBUG    chromadb.config Starting component LocalAPI
2023-07-09 13:23:45 INFO     uvicorn.error   Started server process [8]
2023-07-09 13:23:45 INFO     uvicorn.error   Waiting for application startup.
2023-07-09 13:23:45 INFO     uvicorn.error   Application startup complete.
2023-07-09 13:23:46 INFO     uvicorn.access  172.20.0.6:47156 - "GET /api/v1/collections HTTP/1.1" 200
2023-07-09 13:23:50 INFO     chromadb.db.clickhouse collection with name documents already exists, returning existing collection
2023-07-09 13:23:50 INFO     uvicorn.access  172.20.0.6:47162 - "POST /api/v1/collections HTTP/1.1" 200
2023-07-09 13:23:50 INFO     uvicorn.access  172.20.0.6:47166 - "GET /api/v1/collections/d9ee7941-dc0c-4aa9-acbd-b20ee45c27a1/count HTTP/1.1" 200
2023-07-09 13:23:53 INFO     uvicorn.access  172.20.0.6:47172 - "GET /api/v1/collections HTTP/1.1" 200
2023-07-09 13:23:58 INFO     chromadb.db.clickhouse collection with name documents already exists, returning existing collection
2023-07-09 13:23:58 INFO     uvicorn.access  172.20.0.6:47178 - "POST /api/v1/collections HTTP/1.1" 200
2023-07-09 13:23:58 INFO     uvicorn.access  172.20.0.6:47182 - "GET /api/v1/collections/d9ee7941-dc0c-4aa9-acbd-b20ee45c27a1/count HTTP/1.1" 200
2023-07-09 13:24:17 INFO     uvicorn.error   Shutting down
2023-07-09 13:24:17 INFO     uvicorn.error   Waiting for application shutdown.
2023-07-09 13:24:17 INFO     uvicorn.error   Application shutdown complete.
2023-07-09 13:24:17 INFO     uvicorn.error   Finished server process [8]
2023-07-09 13:24:18 INFO     uvicorn.error   Stopping reloader process [1]
2023-07-09 14:07:25 INFO     uvicorn.error   Will watch for changes in these directories: ['/chroma']
2023-07-09 14:07:25 INFO     uvicorn.error   Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2023-07-09 14:07:25 INFO     uvicorn.error   Started reloader process [1] using WatchFiles
2023-07-09 14:07:29 INFO     chromadb.telemetry.posthog Anonymized telemetry enabled. See https://docs.trychroma.com/telemetry for more information.
2023-07-09 14:07:30 DEBUG    chromadb.config Starting component System
2023-07-09 14:07:30 DEBUG    chromadb.config Starting component Posthog
2023-07-09 14:07:30 DEBUG    chromadb.config Starting component Clickhouse
2023-07-09 14:07:30 DEBUG    chromadb.config Starting component LocalAPI
2023-07-09 14:07:30 INFO     uvicorn.error   Started server process [8]
2023-07-09 14:07:30 INFO     uvicorn.error   Waiting for application startup.
2023-07-09 14:07:30 INFO     uvicorn.error   Application startup complete.
2023-07-09 14:07:38 INFO     uvicorn.access  172.19.0.6:43288 - "GET /api/v1/collections HTTP/1.1" 200
2023-07-09 14:07:48 INFO     uvicorn.error   Shutting down
2023-07-09 14:07:48 INFO     uvicorn.error   Waiting for application shutdown.
2023-07-09 14:07:48 INFO     uvicorn.error   Application shutdown complete.
2023-07-09 14:07:48 INFO     uvicorn.error   Finished server process [8]
2023-07-09 14:07:48 INFO     uvicorn.error   Stopping reloader process [1]
2023-07-09 14:09:51 INFO     uvicorn.error   Will watch for changes in these directories: ['/chroma']
2023-07-09 14:09:51 INFO     uvicorn.error   Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2023-07-09 14:09:51 INFO     uvicorn.error   Started reloader process [1] using WatchFiles
2023-07-09 14:09:57 INFO     chromadb.telemetry.posthog Anonymized telemetry enabled. See https://docs.trychroma.com/telemetry for more information.
2023-07-09 14:10:00 DEBUG    chromadb.config Starting component System
2023-07-09 14:10:00 DEBUG    chromadb.config Starting component Posthog
2023-07-09 14:10:00 DEBUG    chromadb.config Starting component Clickhouse
2023-07-09 14:10:00 DEBUG    chromadb.config Starting component LocalAPI
2023-07-09 14:10:00 INFO     uvicorn.error   Started server process [8]
2023-07-09 14:10:00 INFO     uvicorn.error   Waiting for application startup.
2023-07-09 14:10:00 INFO     uvicorn.error   Application startup complete.
2023-07-09 14:10:15 INFO     uvicorn.access  172.19.0.6:45558 - "GET /api/v1/collections HTTP/1.1" 200
2023-07-09 14:10:42 ERROR    clickhouse_connect.driver.httpclient std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_1_1_0"] ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/all_1_1_0/"]
Cannot print extra info for Poco::Exception (version 22.9.7.34 (official build))

2023-07-09 14:10:42 ERROR    chromadb.server.fastapi :HTTPDriver for http://clickhouse:8123 returned response code 500)
 std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_1_1_0"] ["/var/lib
Traceback (most recent call last):
  File "/chroma/./chromadb/server/fastapi/__init__.py", line 57, in catch_exceptions_middleware
    return await call_next(request)
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 46, in call_next
    raise app_exc
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 36, in coro
    await self.app(scope, request.receive, send_stream.send)
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 75, in __call__
    raise exc
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 64, in __call__
    await self.app(scope, receive, sender)
  File "/usr/local/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/usr/local/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 275, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/usr/local/lib/python3.10/site-packages/fastapi/routing.py", line 231, in app
    raw_response = await run_endpoint_function(
  File "/usr/local/lib/python3.10/site-packages/fastapi/routing.py", line 162, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/usr/local/lib/python3.10/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
  File "/usr/local/lib/python3.10/site-packages/anyio/to_thread.py", line 33, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 877, in run_sync_in_worker_thread
    return await future
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 807, in run
    result = context.run(func, *args)
  File "/chroma/./chromadb/server/fastapi/__init__.py", line 175, in create_collection
    return self._api.create_collection(
  File "/chroma/./chromadb/api/local.py", line 116, in create_collection
    res = self._db.create_collection(name, metadata, get_or_create)
  File "/chroma/./chromadb/db/clickhouse.py", line 187, in create_collection
    self._get_conn().insert(
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/client.py", line 425, in insert
    self.data_insert(context)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 237, in data_insert
    self.raw_insert(context.table,
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 265, in raw_insert
    response = self._raw_request(insert_block, params, headers, error_handler=status_handler)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 355, in _raw_request
    error_handler(response)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 235, in error_handler
    self._error_handler(response)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 312, in _error_handler
    raise OperationalError(err_str) if retried else DatabaseError(err_str) from None
clickhouse_connect.driver.exceptions.DatabaseError: :HTTPDriver for http://clickhouse:8123 returned response code 500)
 std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_1_1_0"] ["/var/lib
2023-07-09 14:10:42 INFO     uvicorn.access  172.19.0.6:45576 - "POST /api/v1/collections HTTP/1.1" 500
2023-07-09 14:10:50 INFO     uvicorn.access  172.19.0.6:45580 - "GET /api/v1/collections HTTP/1.1" 200
2023-07-09 14:10:57 ERROR    clickhouse_connect.driver.httpclient std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_2_2_0"] ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/all_2_2_0/"]
Cannot print extra info for Poco::Exception (version 22.9.7.34 (official build))

2023-07-09 14:10:57 ERROR    chromadb.server.fastapi :HTTPDriver for http://clickhouse:8123 returned response code 500)
 std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_2_2_0"] ["/var/lib
Traceback (most recent call last):
  File "/chroma/./chromadb/server/fastapi/__init__.py", line 57, in catch_exceptions_middleware
    return await call_next(request)
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 46, in call_next
    raise app_exc
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 36, in coro
    await self.app(scope, request.receive, send_stream.send)
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 75, in __call__
    raise exc
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 64, in __call__
    await self.app(scope, receive, sender)
  File "/usr/local/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/usr/local/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 275, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/usr/local/lib/python3.10/site-packages/fastapi/routing.py", line 231, in app
    raw_response = await run_endpoint_function(
  File "/usr/local/lib/python3.10/site-packages/fastapi/routing.py", line 162, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/usr/local/lib/python3.10/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
  File "/usr/local/lib/python3.10/site-packages/anyio/to_thread.py", line 33, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 877, in run_sync_in_worker_thread
    return await future
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 807, in run
    result = context.run(func, *args)
  File "/chroma/./chromadb/server/fastapi/__init__.py", line 175, in create_collection
    return self._api.create_collection(
  File "/chroma/./chromadb/api/local.py", line 116, in create_collection
    res = self._db.create_collection(name, metadata, get_or_create)
  File "/chroma/./chromadb/db/clickhouse.py", line 187, in create_collection
    self._get_conn().insert(
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/client.py", line 425, in insert
    self.data_insert(context)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 237, in data_insert
    self.raw_insert(context.table,
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 265, in raw_insert
    response = self._raw_request(insert_block, params, headers, error_handler=status_handler)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 355, in _raw_request
    error_handler(response)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 235, in error_handler
    self._error_handler(response)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 312, in _error_handler
    raise OperationalError(err_str) if retried else DatabaseError(err_str) from None
clickhouse_connect.driver.exceptions.DatabaseError: :HTTPDriver for http://clickhouse:8123 returned response code 500)
 std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_2_2_0"] ["/var/lib
2023-07-09 14:10:57 INFO     uvicorn.access  172.19.0.6:45586 - "POST /api/v1/collections HTTP/1.1" 500
2023-07-09 14:11:04 INFO     uvicorn.access  172.19.0.6:45590 - "GET /api/v1/collections HTTP/1.1" 200
2023-07-09 14:11:11 ERROR    clickhouse_connect.driver.httpclient std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_3_3_0"] ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/all_3_3_0/"]
Cannot print extra info for Poco::Exception (version 22.9.7.34 (official build))

2023-07-09 14:11:11 ERROR    chromadb.server.fastapi :HTTPDriver for http://clickhouse:8123 returned response code 500)
 std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_3_3_0"] ["/var/lib
Traceback (most recent call last):
  File "/chroma/./chromadb/server/fastapi/__init__.py", line 57, in catch_exceptions_middleware
    return await call_next(request)
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 46, in call_next
    raise app_exc
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 36, in coro
    await self.app(scope, request.receive, send_stream.send)
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 75, in __call__
    raise exc
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 64, in __call__
    await self.app(scope, receive, sender)
  File "/usr/local/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/usr/local/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 275, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/usr/local/lib/python3.10/site-packages/fastapi/routing.py", line 231, in app
    raw_response = await run_endpoint_function(
  File "/usr/local/lib/python3.10/site-packages/fastapi/routing.py", line 162, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/usr/local/lib/python3.10/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
  File "/usr/local/lib/python3.10/site-packages/anyio/to_thread.py", line 33, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 877, in run_sync_in_worker_thread
    return await future
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 807, in run
    result = context.run(func, *args)
  File "/chroma/./chromadb/server/fastapi/__init__.py", line 175, in create_collection
    return self._api.create_collection(
  File "/chroma/./chromadb/api/local.py", line 116, in create_collection
    res = self._db.create_collection(name, metadata, get_or_create)
  File "/chroma/./chromadb/db/clickhouse.py", line 187, in create_collection
    self._get_conn().insert(
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/client.py", line 425, in insert
    self.data_insert(context)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 237, in data_insert
    self.raw_insert(context.table,
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 265, in raw_insert
    response = self._raw_request(insert_block, params, headers, error_handler=status_handler)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 355, in _raw_request
    error_handler(response)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 235, in error_handler
    self._error_handler(response)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 312, in _error_handler
    raise OperationalError(err_str) if retried else DatabaseError(err_str) from None
clickhouse_connect.driver.exceptions.DatabaseError: :HTTPDriver for http://clickhouse:8123 returned response code 500)
 std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_3_3_0"] ["/var/lib
2023-07-09 14:11:11 INFO     uvicorn.access  172.19.0.6:45596 - "POST /api/v1/collections HTTP/1.1" 500
2023-07-09 14:11:18 INFO     uvicorn.access  172.19.0.6:45600 - "GET /api/v1/collections HTTP/1.1" 200
2023-07-09 14:11:24 ERROR    clickhouse_connect.driver.httpclient std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_4_4_0"] ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/all_4_4_0/"]
Cannot print extra info for Poco::Exception (version 22.9.7.34 (official build))

2023-07-09 14:11:24 ERROR    chromadb.server.fastapi :HTTPDriver for http://clickhouse:8123 returned response code 500)
 std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_4_4_0"] ["/var/lib
Traceback (most recent call last):
  File "/chroma/./chromadb/server/fastapi/__init__.py", line 57, in catch_exceptions_middleware
    return await call_next(request)
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 46, in call_next
    raise app_exc
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 36, in coro
    await self.app(scope, request.receive, send_stream.send)
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 75, in __call__
    raise exc
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 64, in __call__
    await self.app(scope, receive, sender)
  File "/usr/local/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/usr/local/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 275, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/usr/local/lib/python3.10/site-packages/fastapi/routing.py", line 231, in app
    raw_response = await run_endpoint_function(
  File "/usr/local/lib/python3.10/site-packages/fastapi/routing.py", line 162, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/usr/local/lib/python3.10/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
  File "/usr/local/lib/python3.10/site-packages/anyio/to_thread.py", line 33, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 877, in run_sync_in_worker_thread
    return await future
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 807, in run
    result = context.run(func, *args)
  File "/chroma/./chromadb/server/fastapi/__init__.py", line 175, in create_collection
    return self._api.create_collection(
  File "/chroma/./chromadb/api/local.py", line 116, in create_collection
    res = self._db.create_collection(name, metadata, get_or_create)
  File "/chroma/./chromadb/db/clickhouse.py", line 187, in create_collection
    self._get_conn().insert(
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/client.py", line 425, in insert
    self.data_insert(context)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 237, in data_insert
    self.raw_insert(context.table,
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 265, in raw_insert
    response = self._raw_request(insert_block, params, headers, error_handler=status_handler)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 355, in _raw_request
    error_handler(response)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 235, in error_handler
    self._error_handler(response)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 312, in _error_handler
    raise OperationalError(err_str) if retried else DatabaseError(err_str) from None
clickhouse_connect.driver.exceptions.DatabaseError: :HTTPDriver for http://clickhouse:8123 returned response code 500)
 std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_4_4_0"] ["/var/lib
2023-07-09 14:11:24 INFO     uvicorn.access  172.19.0.6:45606 - "POST /api/v1/collections HTTP/1.1" 500
2023-07-09 14:11:30 INFO     uvicorn.access  172.19.0.6:45610 - "GET /api/v1/collections HTTP/1.1" 200
2023-07-09 14:11:36 ERROR    clickhouse_connect.driver.httpclient std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_5_5_0"] ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/all_5_5_0/"]
Cannot print extra info for Poco::Exception (version 22.9.7.34 (official build))

2023-07-09 14:11:36 ERROR    chromadb.server.fastapi :HTTPDriver for http://clickhouse:8123 returned response code 500)
 std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_5_5_0"] ["/var/lib
Traceback (most recent call last):
  File "/chroma/./chromadb/server/fastapi/__init__.py", line 57, in catch_exceptions_middleware
    return await call_next(request)
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 46, in call_next
    raise app_exc
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 36, in coro
    await self.app(scope, request.receive, send_stream.send)
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 75, in __call__
    raise exc
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 64, in __call__
    await self.app(scope, receive, sender)
  File "/usr/local/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/usr/local/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 275, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/usr/local/lib/python3.10/site-packages/fastapi/routing.py", line 231, in app
    raw_response = await run_endpoint_function(
  File "/usr/local/lib/python3.10/site-packages/fastapi/routing.py", line 162, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/usr/local/lib/python3.10/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
  File "/usr/local/lib/python3.10/site-packages/anyio/to_thread.py", line 33, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 877, in run_sync_in_worker_thread
    return await future
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 807, in run
    result = context.run(func, *args)
  File "/chroma/./chromadb/server/fastapi/__init__.py", line 175, in create_collection
    return self._api.create_collection(
  File "/chroma/./chromadb/api/local.py", line 116, in create_collection
    res = self._db.create_collection(name, metadata, get_or_create)
  File "/chroma/./chromadb/db/clickhouse.py", line 187, in create_collection
    self._get_conn().insert(
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/client.py", line 425, in insert
    self.data_insert(context)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 237, in data_insert
    self.raw_insert(context.table,
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 265, in raw_insert
    response = self._raw_request(insert_block, params, headers, error_handler=status_handler)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 355, in _raw_request
    error_handler(response)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 235, in error_handler
    self._error_handler(response)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 312, in _error_handler
    raise OperationalError(err_str) if retried else DatabaseError(err_str) from None
clickhouse_connect.driver.exceptions.DatabaseError: :HTTPDriver for http://clickhouse:8123 returned response code 500)
 std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_5_5_0"] ["/var/lib
2023-07-09 14:11:36 INFO     uvicorn.access  172.19.0.6:45616 - "POST /api/v1/collections HTTP/1.1" 500
2023-07-09 14:11:42 INFO     uvicorn.access  172.19.0.6:45620 - "GET /api/v1/collections HTTP/1.1" 200
2023-07-09 14:11:48 ERROR    clickhouse_connect.driver.httpclient std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_6_6_0"] ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/all_6_6_0/"]
Cannot print extra info for Poco::Exception (version 22.9.7.34 (official build))

2023-07-09 14:11:48 ERROR    chromadb.server.fastapi :HTTPDriver for http://clickhouse:8123 returned response code 500)
 std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_6_6_0"] ["/var/lib
Traceback (most recent call last):
  File "/chroma/./chromadb/server/fastapi/__init__.py", line 57, in catch_exceptions_middleware
    return await call_next(request)
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 46, in call_next
    raise app_exc
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 36, in coro
    await self.app(scope, request.receive, send_stream.send)
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 75, in __call__
    raise exc
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 64, in __call__
    await self.app(scope, receive, sender)
  File "/usr/local/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/usr/local/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 275, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/usr/local/lib/python3.10/site-packages/fastapi/routing.py", line 231, in app
    raw_response = await run_endpoint_function(
  File "/usr/local/lib/python3.10/site-packages/fastapi/routing.py", line 162, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/usr/local/lib/python3.10/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
  File "/usr/local/lib/python3.10/site-packages/anyio/to_thread.py", line 33, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 877, in run_sync_in_worker_thread
    return await future
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 807, in run
    result = context.run(func, *args)
  File "/chroma/./chromadb/server/fastapi/__init__.py", line 175, in create_collection
    return self._api.create_collection(
  File "/chroma/./chromadb/api/local.py", line 116, in create_collection
    res = self._db.create_collection(name, metadata, get_or_create)
  File "/chroma/./chromadb/db/clickhouse.py", line 187, in create_collection
    self._get_conn().insert(
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/client.py", line 425, in insert
    self.data_insert(context)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 237, in data_insert
    self.raw_insert(context.table,
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 265, in raw_insert
    response = self._raw_request(insert_block, params, headers, error_handler=status_handler)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 355, in _raw_request
    error_handler(response)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 235, in error_handler
    self._error_handler(response)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 312, in _error_handler
    raise OperationalError(err_str) if retried else DatabaseError(err_str) from None
clickhouse_connect.driver.exceptions.DatabaseError: :HTTPDriver for http://clickhouse:8123 returned response code 500)
 std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_6_6_0"] ["/var/lib
2023-07-09 14:11:48 INFO     uvicorn.access  172.19.0.6:45626 - "POST /api/v1/collections HTTP/1.1" 500
2023-07-09 14:11:55 INFO     uvicorn.access  172.19.0.6:45630 - "GET /api/v1/collections HTTP/1.1" 200
2023-07-09 14:12:01 ERROR    clickhouse_connect.driver.httpclient std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_7_7_0"] ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/all_7_7_0/"]
Cannot print extra info for Poco::Exception (version 22.9.7.34 (official build))

2023-07-09 14:12:01 ERROR    chromadb.server.fastapi :HTTPDriver for http://clickhouse:8123 returned response code 500)
 std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_7_7_0"] ["/var/lib
Traceback (most recent call last):
  File "/chroma/./chromadb/server/fastapi/__init__.py", line 57, in catch_exceptions_middleware
    return await call_next(request)
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 46, in call_next
    raise app_exc
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 36, in coro
    await self.app(scope, request.receive, send_stream.send)
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 75, in __call__
    raise exc
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 64, in __call__
    await self.app(scope, receive, sender)
  File "/usr/local/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/usr/local/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 275, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/usr/local/lib/python3.10/site-packages/fastapi/routing.py", line 231, in app
    raw_response = await run_endpoint_function(
  File "/usr/local/lib/python3.10/site-packages/fastapi/routing.py", line 162, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/usr/local/lib/python3.10/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
  File "/usr/local/lib/python3.10/site-packages/anyio/to_thread.py", line 33, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 877, in run_sync_in_worker_thread
    return await future
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 807, in run
    result = context.run(func, *args)
  File "/chroma/./chromadb/server/fastapi/__init__.py", line 175, in create_collection
    return self._api.create_collection(
  File "/chroma/./chromadb/api/local.py", line 116, in create_collection
    res = self._db.create_collection(name, metadata, get_or_create)
  File "/chroma/./chromadb/db/clickhouse.py", line 187, in create_collection
    self._get_conn().insert(
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/client.py", line 425, in insert
    self.data_insert(context)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 237, in data_insert
    self.raw_insert(context.table,
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 265, in raw_insert
    response = self._raw_request(insert_block, params, headers, error_handler=status_handler)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 355, in _raw_request
    error_handler(response)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 235, in error_handler
    self._error_handler(response)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 312, in _error_handler
    raise OperationalError(err_str) if retried else DatabaseError(err_str) from None
clickhouse_connect.driver.exceptions.DatabaseError: :HTTPDriver for http://clickhouse:8123 returned response code 500)
 std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_7_7_0"] ["/var/lib
2023-07-09 14:12:01 INFO     uvicorn.access  172.19.0.6:45636 - "POST /api/v1/collections HTTP/1.1" 500
2023-07-09 14:12:08 INFO     uvicorn.access  172.19.0.6:45640 - "GET /api/v1/collections HTTP/1.1" 200
2023-07-09 14:12:14 ERROR    clickhouse_connect.driver.httpclient std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_8_8_0"] ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/all_8_8_0/"]
Cannot print extra info for Poco::Exception (version 22.9.7.34 (official build))

2023-07-09 14:12:14 ERROR    chromadb.server.fastapi :HTTPDriver for http://clickhouse:8123 returned response code 500)
 std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_8_8_0"] ["/var/lib
Traceback (most recent call last):
  File "/chroma/./chromadb/server/fastapi/__init__.py", line 57, in catch_exceptions_middleware
    return await call_next(request)
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 46, in call_next
    raise app_exc
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 36, in coro
    await self.app(scope, request.receive, send_stream.send)
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 75, in __call__
    raise exc
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 64, in __call__
    await self.app(scope, receive, sender)
  File "/usr/local/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/usr/local/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 275, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/usr/local/lib/python3.10/site-packages/fastapi/routing.py", line 231, in app
    raw_response = await run_endpoint_function(
  File "/usr/local/lib/python3.10/site-packages/fastapi/routing.py", line 162, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/usr/local/lib/python3.10/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
  File "/usr/local/lib/python3.10/site-packages/anyio/to_thread.py", line 33, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 877, in run_sync_in_worker_thread
    return await future
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 807, in run
    result = context.run(func, *args)
  File "/chroma/./chromadb/server/fastapi/__init__.py", line 175, in create_collection
    return self._api.create_collection(
  File "/chroma/./chromadb/api/local.py", line 116, in create_collection
    res = self._db.create_collection(name, metadata, get_or_create)
  File "/chroma/./chromadb/db/clickhouse.py", line 187, in create_collection
    self._get_conn().insert(
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/client.py", line 425, in insert
    self.data_insert(context)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 237, in data_insert
    self.raw_insert(context.table,
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 265, in raw_insert
    response = self._raw_request(insert_block, params, headers, error_handler=status_handler)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 355, in _raw_request
    error_handler(response)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 235, in error_handler
    self._error_handler(response)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 312, in _error_handler
    raise OperationalError(err_str) if retried else DatabaseError(err_str) from None
clickhouse_connect.driver.exceptions.DatabaseError: :HTTPDriver for http://clickhouse:8123 returned response code 500)
 std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_8_8_0"] ["/var/lib
2023-07-09 14:12:14 INFO     uvicorn.access  172.19.0.6:45646 - "POST /api/v1/collections HTTP/1.1" 500
2023-07-09 14:12:22 INFO     uvicorn.access  172.19.0.6:45650 - "GET /api/v1/collections HTTP/1.1" 200
2023-07-09 14:12:28 ERROR    clickhouse_connect.driver.httpclient std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_9_9_0"] ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/all_9_9_0/"]
Cannot print extra info for Poco::Exception (version 22.9.7.34 (official build))

2023-07-09 14:12:28 ERROR    chromadb.server.fastapi :HTTPDriver for http://clickhouse:8123 returned response code 500)
 std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_9_9_0"] ["/var/lib
Traceback (most recent call last):
  File "/chroma/./chromadb/server/fastapi/__init__.py", line 57, in catch_exceptions_middleware
    return await call_next(request)
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 46, in call_next
    raise app_exc
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 36, in coro
    await self.app(scope, request.receive, send_stream.send)
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 75, in __call__
    raise exc
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 64, in __call__
    await self.app(scope, receive, sender)
  File "/usr/local/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/usr/local/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 275, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/usr/local/lib/python3.10/site-packages/fastapi/routing.py", line 231, in app
    raw_response = await run_endpoint_function(
  File "/usr/local/lib/python3.10/site-packages/fastapi/routing.py", line 162, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/usr/local/lib/python3.10/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
  File "/usr/local/lib/python3.10/site-packages/anyio/to_thread.py", line 33, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 877, in run_sync_in_worker_thread
    return await future
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 807, in run
    result = context.run(func, *args)
  File "/chroma/./chromadb/server/fastapi/__init__.py", line 175, in create_collection
    return self._api.create_collection(
  File "/chroma/./chromadb/api/local.py", line 116, in create_collection
    res = self._db.create_collection(name, metadata, get_or_create)
  File "/chroma/./chromadb/db/clickhouse.py", line 187, in create_collection
    self._get_conn().insert(
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/client.py", line 425, in insert
    self.data_insert(context)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 237, in data_insert
    self.raw_insert(context.table,
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 265, in raw_insert
    response = self._raw_request(insert_block, params, headers, error_handler=status_handler)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 355, in _raw_request
    error_handler(response)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 235, in error_handler
    self._error_handler(response)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 312, in _error_handler
    raise OperationalError(err_str) if retried else DatabaseError(err_str) from None
clickhouse_connect.driver.exceptions.DatabaseError: :HTTPDriver for http://clickhouse:8123 returned response code 500)
 std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_9_9_0"] ["/var/lib
2023-07-09 14:12:28 INFO     uvicorn.access  172.19.0.6:45656 - "POST /api/v1/collections HTTP/1.1" 500
2023-07-09 14:12:34 INFO     uvicorn.access  172.19.0.6:45660 - "GET /api/v1/collections HTTP/1.1" 200
2023-07-09 14:12:40 ERROR    clickhouse_connect.driver.httpclient std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_10_10_0"] ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/all_10_10_0/"]
Cannot print extra info for Poco::Exception (version 22.9.7.34 (official build))

2023-07-09 14:12:40 ERROR    chromadb.server.fastapi :HTTPDriver for http://clickhouse:8123 returned response code 500)
 std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_10_10_0"] ["/var/l
Traceback (most recent call last):
  File "/chroma/./chromadb/server/fastapi/__init__.py", line 57, in catch_exceptions_middleware
    return await call_next(request)
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 46, in call_next
    raise app_exc
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 36, in coro
    await self.app(scope, request.receive, send_stream.send)
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 75, in __call__
    raise exc
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 64, in __call__
    await self.app(scope, receive, sender)
  File "/usr/local/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/usr/local/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 275, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/usr/local/lib/python3.10/site-packages/fastapi/routing.py", line 231, in app
    raw_response = await run_endpoint_function(
  File "/usr/local/lib/python3.10/site-packages/fastapi/routing.py", line 162, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/usr/local/lib/python3.10/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
  File "/usr/local/lib/python3.10/site-packages/anyio/to_thread.py", line 33, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 877, in run_sync_in_worker_thread
    return await future
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 807, in run
    result = context.run(func, *args)
  File "/chroma/./chromadb/server/fastapi/__init__.py", line 175, in create_collection
    return self._api.create_collection(
  File "/chroma/./chromadb/api/local.py", line 116, in create_collection
    res = self._db.create_collection(name, metadata, get_or_create)
  File "/chroma/./chromadb/db/clickhouse.py", line 187, in create_collection
    self._get_conn().insert(
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/client.py", line 425, in insert
    self.data_insert(context)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 237, in data_insert
    self.raw_insert(context.table,
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 265, in raw_insert
    response = self._raw_request(insert_block, params, headers, error_handler=status_handler)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 355, in _raw_request
    error_handler(response)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 235, in error_handler
    self._error_handler(response)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 312, in _error_handler
    raise OperationalError(err_str) if retried else DatabaseError(err_str) from None
clickhouse_connect.driver.exceptions.DatabaseError: :HTTPDriver for http://clickhouse:8123 returned response code 500)
 std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_10_10_0"] ["/var/l
2023-07-09 14:12:40 INFO     uvicorn.access  172.19.0.6:45666 - "POST /api/v1/collections HTTP/1.1" 500
2023-07-09 14:12:48 INFO     uvicorn.access  172.19.0.6:45670 - "GET /api/v1/collections HTTP/1.1" 200
2023-07-09 14:12:56 ERROR    clickhouse_connect.driver.httpclient std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_11_11_0"] ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/all_11_11_0/"]
Cannot print extra info for Poco::Exception (version 22.9.7.34 (official build))

2023-07-09 14:12:56 ERROR    chromadb.server.fastapi :HTTPDriver for http://clickhouse:8123 returned response code 500)
 std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_11_11_0"] ["/var/l
Traceback (most recent call last):
  File "/chroma/./chromadb/server/fastapi/__init__.py", line 57, in catch_exceptions_middleware
    return await call_next(request)
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 46, in call_next
    raise app_exc
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 36, in coro
    await self.app(scope, request.receive, send_stream.send)
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 75, in __call__
    raise exc
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 64, in __call__
    await self.app(scope, receive, sender)
  File "/usr/local/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/usr/local/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 275, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/usr/local/lib/python3.10/site-packages/fastapi/routing.py", line 231, in app
    raw_response = await run_endpoint_function(
  File "/usr/local/lib/python3.10/site-packages/fastapi/routing.py", line 162, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/usr/local/lib/python3.10/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
  File "/usr/local/lib/python3.10/site-packages/anyio/to_thread.py", line 33, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 877, in run_sync_in_worker_thread
    return await future
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 807, in run
    result = context.run(func, *args)
  File "/chroma/./chromadb/server/fastapi/__init__.py", line 175, in create_collection
    return self._api.create_collection(
  File "/chroma/./chromadb/api/local.py", line 116, in create_collection
    res = self._db.create_collection(name, metadata, get_or_create)
  File "/chroma/./chromadb/db/clickhouse.py", line 187, in create_collection
    self._get_conn().insert(
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/client.py", line 425, in insert
    self.data_insert(context)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 237, in data_insert
    self.raw_insert(context.table,
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 265, in raw_insert
    response = self._raw_request(insert_block, params, headers, error_handler=status_handler)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 355, in _raw_request
    error_handler(response)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 235, in error_handler
    self._error_handler(response)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 312, in _error_handler
    raise OperationalError(err_str) if retried else DatabaseError(err_str) from None
clickhouse_connect.driver.exceptions.DatabaseError: :HTTPDriver for http://clickhouse:8123 returned response code 500)
 std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_11_11_0"] ["/var/l
2023-07-09 14:12:56 INFO     uvicorn.access  172.19.0.6:45676 - "POST /api/v1/collections HTTP/1.1" 500
2023-07-09 14:13:04 INFO     uvicorn.access  172.19.0.6:45680 - "GET /api/v1/collections HTTP/1.1" 200
2023-07-09 14:13:11 ERROR    clickhouse_connect.driver.httpclient std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_12_12_0"] ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/all_12_12_0/"]
Cannot print extra info for Poco::Exception (version 22.9.7.34 (official build))

2023-07-09 14:13:11 ERROR    chromadb.server.fastapi :HTTPDriver for http://clickhouse:8123 returned response code 500)
 std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_12_12_0"] ["/var/l
Traceback (most recent call last):
  File "/chroma/./chromadb/server/fastapi/__init__.py", line 57, in catch_exceptions_middleware
    return await call_next(request)
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 46, in call_next
    raise app_exc
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 36, in coro
    await self.app(scope, request.receive, send_stream.send)
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 75, in __call__
    raise exc
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 64, in __call__
    await self.app(scope, receive, sender)
  File "/usr/local/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/usr/local/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 275, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/usr/local/lib/python3.10/site-packages/fastapi/routing.py", line 231, in app
    raw_response = await run_endpoint_function(
  File "/usr/local/lib/python3.10/site-packages/fastapi/routing.py", line 162, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/usr/local/lib/python3.10/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
  File "/usr/local/lib/python3.10/site-packages/anyio/to_thread.py", line 33, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 877, in run_sync_in_worker_thread
    return await future
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 807, in run
    result = context.run(func, *args)
  File "/chroma/./chromadb/server/fastapi/__init__.py", line 175, in create_collection
    return self._api.create_collection(
  File "/chroma/./chromadb/api/local.py", line 116, in create_collection
    res = self._db.create_collection(name, metadata, get_or_create)
  File "/chroma/./chromadb/db/clickhouse.py", line 187, in create_collection
    self._get_conn().insert(
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/client.py", line 425, in insert
    self.data_insert(context)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 237, in data_insert
    self.raw_insert(context.table,
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 265, in raw_insert
    response = self._raw_request(insert_block, params, headers, error_handler=status_handler)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 355, in _raw_request
    error_handler(response)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 235, in error_handler
    self._error_handler(response)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 312, in _error_handler
    raise OperationalError(err_str) if retried else DatabaseError(err_str) from None
clickhouse_connect.driver.exceptions.DatabaseError: :HTTPDriver for http://clickhouse:8123 returned response code 500)
 std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_12_12_0"] ["/var/l
2023-07-09 14:13:11 INFO     uvicorn.access  172.19.0.6:45686 - "POST /api/v1/collections HTTP/1.1" 500
2023-07-09 14:13:18 INFO     uvicorn.access  172.19.0.6:45690 - "GET /api/v1/collections HTTP/1.1" 200
2023-07-09 14:13:24 ERROR    clickhouse_connect.driver.httpclient std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_13_13_0"] ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/all_13_13_0/"]
Cannot print extra info for Poco::Exception (version 22.9.7.34 (official build))

2023-07-09 14:13:24 ERROR    chromadb.server.fastapi :HTTPDriver for http://clickhouse:8123 returned response code 500)
 std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_13_13_0"] ["/var/l
Traceback (most recent call last):
  File "/chroma/./chromadb/server/fastapi/__init__.py", line 57, in catch_exceptions_middleware
    return await call_next(request)
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 46, in call_next
    raise app_exc
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 36, in coro
    await self.app(scope, request.receive, send_stream.send)
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 75, in __call__
    raise exc
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 64, in __call__
    await self.app(scope, receive, sender)
  File "/usr/local/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/usr/local/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 275, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/usr/local/lib/python3.10/site-packages/fastapi/routing.py", line 231, in app
    raw_response = await run_endpoint_function(
  File "/usr/local/lib/python3.10/site-packages/fastapi/routing.py", line 162, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/usr/local/lib/python3.10/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
  File "/usr/local/lib/python3.10/site-packages/anyio/to_thread.py", line 33, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 877, in run_sync_in_worker_thread
    return await future
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 807, in run
    result = context.run(func, *args)
  File "/chroma/./chromadb/server/fastapi/__init__.py", line 175, in create_collection
    return self._api.create_collection(
  File "/chroma/./chromadb/api/local.py", line 116, in create_collection
    res = self._db.create_collection(name, metadata, get_or_create)
  File "/chroma/./chromadb/db/clickhouse.py", line 187, in create_collection
    self._get_conn().insert(
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/client.py", line 425, in insert
    self.data_insert(context)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 237, in data_insert
    self.raw_insert(context.table,
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 265, in raw_insert
    response = self._raw_request(insert_block, params, headers, error_handler=status_handler)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 355, in _raw_request
    error_handler(response)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 235, in error_handler
    self._error_handler(response)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 312, in _error_handler
    raise OperationalError(err_str) if retried else DatabaseError(err_str) from None
clickhouse_connect.driver.exceptions.DatabaseError: :HTTPDriver for http://clickhouse:8123 returned response code 500)
 std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_13_13_0"] ["/var/l
2023-07-09 14:13:24 INFO     uvicorn.access  172.19.0.6:45696 - "POST /api/v1/collections HTTP/1.1" 500
2023-07-09 14:13:31 INFO     uvicorn.access  172.19.0.6:45700 - "GET /api/v1/collections HTTP/1.1" 200
2023-07-09 14:13:39 ERROR    clickhouse_connect.driver.httpclient std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_14_14_0"] ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/all_14_14_0/"]
Cannot print extra info for Poco::Exception (version 22.9.7.34 (official build))

2023-07-09 14:13:39 ERROR    chromadb.server.fastapi :HTTPDriver for http://clickhouse:8123 returned response code 500)
 std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_14_14_0"] ["/var/l
Traceback (most recent call last):
  File "/chroma/./chromadb/server/fastapi/__init__.py", line 57, in catch_exceptions_middleware
    return await call_next(request)
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 46, in call_next
    raise app_exc
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 36, in coro
    await self.app(scope, request.receive, send_stream.send)
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 75, in __call__
    raise exc
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 64, in __call__
    await self.app(scope, receive, sender)
  File "/usr/local/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/usr/local/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 275, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/usr/local/lib/python3.10/site-packages/fastapi/routing.py", line 231, in app
    raw_response = await run_endpoint_function(
  File "/usr/local/lib/python3.10/site-packages/fastapi/routing.py", line 162, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/usr/local/lib/python3.10/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
  File "/usr/local/lib/python3.10/site-packages/anyio/to_thread.py", line 33, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 877, in run_sync_in_worker_thread
    return await future
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 807, in run
    result = context.run(func, *args)
  File "/chroma/./chromadb/server/fastapi/__init__.py", line 175, in create_collection
    return self._api.create_collection(
  File "/chroma/./chromadb/api/local.py", line 116, in create_collection
    res = self._db.create_collection(name, metadata, get_or_create)
  File "/chroma/./chromadb/db/clickhouse.py", line 187, in create_collection
    self._get_conn().insert(
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/client.py", line 425, in insert
    self.data_insert(context)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 237, in data_insert
    self.raw_insert(context.table,
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 265, in raw_insert
    response = self._raw_request(insert_block, params, headers, error_handler=status_handler)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 355, in _raw_request
    error_handler(response)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 235, in error_handler
    self._error_handler(response)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 312, in _error_handler
    raise OperationalError(err_str) if retried else DatabaseError(err_str) from None
clickhouse_connect.driver.exceptions.DatabaseError: :HTTPDriver for http://clickhouse:8123 returned response code 500)
 std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_14_14_0"] ["/var/l
2023-07-09 14:13:39 INFO     uvicorn.access  172.19.0.6:45706 - "POST /api/v1/collections HTTP/1.1" 500
2023-07-09 14:13:45 INFO     uvicorn.access  172.19.0.6:45710 - "GET /api/v1/collections HTTP/1.1" 200
2023-07-09 14:13:52 ERROR    clickhouse_connect.driver.httpclient std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_15_15_0"] ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/all_15_15_0/"]
Cannot print extra info for Poco::Exception (version 22.9.7.34 (official build))

2023-07-09 14:13:52 ERROR    chromadb.server.fastapi :HTTPDriver for http://clickhouse:8123 returned response code 500)
 std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_15_15_0"] ["/var/l
Traceback (most recent call last):
  File "/chroma/./chromadb/server/fastapi/__init__.py", line 57, in catch_exceptions_middleware
    return await call_next(request)
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 46, in call_next
    raise app_exc
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 36, in coro
    await self.app(scope, request.receive, send_stream.send)
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 75, in __call__
    raise exc
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 64, in __call__
    await self.app(scope, receive, sender)
  File "/usr/local/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/usr/local/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 275, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/usr/local/lib/python3.10/site-packages/fastapi/routing.py", line 231, in app
    raw_response = await run_endpoint_function(
  File "/usr/local/lib/python3.10/site-packages/fastapi/routing.py", line 162, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/usr/local/lib/python3.10/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
  File "/usr/local/lib/python3.10/site-packages/anyio/to_thread.py", line 33, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 877, in run_sync_in_worker_thread
    return await future
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 807, in run
    result = context.run(func, *args)
  File "/chroma/./chromadb/server/fastapi/__init__.py", line 175, in create_collection
    return self._api.create_collection(
  File "/chroma/./chromadb/api/local.py", line 116, in create_collection
    res = self._db.create_collection(name, metadata, get_or_create)
  File "/chroma/./chromadb/db/clickhouse.py", line 187, in create_collection
    self._get_conn().insert(
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/client.py", line 425, in insert
    self.data_insert(context)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 237, in data_insert
    self.raw_insert(context.table,
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 265, in raw_insert
    response = self._raw_request(insert_block, params, headers, error_handler=status_handler)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 355, in _raw_request
    error_handler(response)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 235, in error_handler
    self._error_handler(response)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 312, in _error_handler
    raise OperationalError(err_str) if retried else DatabaseError(err_str) from None
clickhouse_connect.driver.exceptions.DatabaseError: :HTTPDriver for http://clickhouse:8123 returned response code 500)
 std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_15_15_0"] ["/var/l
2023-07-09 14:13:52 INFO     uvicorn.access  172.19.0.6:45716 - "POST /api/v1/collections HTTP/1.1" 500
2023-07-09 14:13:59 INFO     uvicorn.access  172.19.0.6:45720 - "GET /api/v1/collections HTTP/1.1" 200
2023-07-09 14:14:05 ERROR    clickhouse_connect.driver.httpclient std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_16_16_0"] ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/all_16_16_0/"]
Cannot print extra info for Poco::Exception (version 22.9.7.34 (official build))

2023-07-09 14:14:05 ERROR    chromadb.server.fastapi :HTTPDriver for http://clickhouse:8123 returned response code 500)
 std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_16_16_0"] ["/var/l
Traceback (most recent call last):
  File "/chroma/./chromadb/server/fastapi/__init__.py", line 57, in catch_exceptions_middleware
    return await call_next(request)
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 46, in call_next
    raise app_exc
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 36, in coro
    await self.app(scope, request.receive, send_stream.send)
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 75, in __call__
    raise exc
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 64, in __call__
    await self.app(scope, receive, sender)
  File "/usr/local/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/usr/local/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 275, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/usr/local/lib/python3.10/site-packages/fastapi/routing.py", line 231, in app
    raw_response = await run_endpoint_function(
  File "/usr/local/lib/python3.10/site-packages/fastapi/routing.py", line 162, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/usr/local/lib/python3.10/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
  File "/usr/local/lib/python3.10/site-packages/anyio/to_thread.py", line 33, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 877, in run_sync_in_worker_thread
    return await future
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 807, in run
    result = context.run(func, *args)
  File "/chroma/./chromadb/server/fastapi/__init__.py", line 175, in create_collection
    return self._api.create_collection(
  File "/chroma/./chromadb/api/local.py", line 116, in create_collection
    res = self._db.create_collection(name, metadata, get_or_create)
  File "/chroma/./chromadb/db/clickhouse.py", line 187, in create_collection
    self._get_conn().insert(
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/client.py", line 425, in insert
    self.data_insert(context)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 237, in data_insert
    self.raw_insert(context.table,
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 265, in raw_insert
    response = self._raw_request(insert_block, params, headers, error_handler=status_handler)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 355, in _raw_request
    error_handler(response)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 235, in error_handler
    self._error_handler(response)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 312, in _error_handler
    raise OperationalError(err_str) if retried else DatabaseError(err_str) from None
clickhouse_connect.driver.exceptions.DatabaseError: :HTTPDriver for http://clickhouse:8123 returned response code 500)
 std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_16_16_0"] ["/var/l
2023-07-09 14:14:05 INFO     uvicorn.access  172.19.0.6:45726 - "POST /api/v1/collections HTTP/1.1" 500
2023-07-09 14:14:12 INFO     uvicorn.access  172.19.0.6:45730 - "GET /api/v1/collections HTTP/1.1" 200
2023-07-09 14:14:19 ERROR    clickhouse_connect.driver.httpclient std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_17_17_0"] ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/all_17_17_0/"]
Cannot print extra info for Poco::Exception (version 22.9.7.34 (official build))

2023-07-09 14:14:19 ERROR    chromadb.server.fastapi :HTTPDriver for http://clickhouse:8123 returned response code 500)
 std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_17_17_0"] ["/var/l
Traceback (most recent call last):
  File "/chroma/./chromadb/server/fastapi/__init__.py", line 57, in catch_exceptions_middleware
    return await call_next(request)
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 46, in call_next
    raise app_exc
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 36, in coro
    await self.app(scope, request.receive, send_stream.send)
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 75, in __call__
    raise exc
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 64, in __call__
    await self.app(scope, receive, sender)
  File "/usr/local/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/usr/local/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 275, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/usr/local/lib/python3.10/site-packages/fastapi/routing.py", line 231, in app
    raw_response = await run_endpoint_function(
  File "/usr/local/lib/python3.10/site-packages/fastapi/routing.py", line 162, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/usr/local/lib/python3.10/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
  File "/usr/local/lib/python3.10/site-packages/anyio/to_thread.py", line 33, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 877, in run_sync_in_worker_thread
    return await future
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 807, in run
    result = context.run(func, *args)
  File "/chroma/./chromadb/server/fastapi/__init__.py", line 175, in create_collection
    return self._api.create_collection(
  File "/chroma/./chromadb/api/local.py", line 116, in create_collection
    res = self._db.create_collection(name, metadata, get_or_create)
  File "/chroma/./chromadb/db/clickhouse.py", line 187, in create_collection
    self._get_conn().insert(
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/client.py", line 425, in insert
    self.data_insert(context)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 237, in data_insert
    self.raw_insert(context.table,
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 265, in raw_insert
    response = self._raw_request(insert_block, params, headers, error_handler=status_handler)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 355, in _raw_request
    error_handler(response)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 235, in error_handler
    self._error_handler(response)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 312, in _error_handler
    raise OperationalError(err_str) if retried else DatabaseError(err_str) from None
clickhouse_connect.driver.exceptions.DatabaseError: :HTTPDriver for http://clickhouse:8123 returned response code 500)
 std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_17_17_0"] ["/var/l
2023-07-09 14:14:19 INFO     uvicorn.access  172.19.0.6:45736 - "POST /api/v1/collections HTTP/1.1" 500
2023-07-09 14:14:25 INFO     uvicorn.access  172.19.0.6:45740 - "GET /api/v1/collections HTTP/1.1" 200
2023-07-09 14:14:35 ERROR    clickhouse_connect.driver.httpclient std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_18_18_0"] ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/all_18_18_0/"]
Cannot print extra info for Poco::Exception (version 22.9.7.34 (official build))

2023-07-09 14:14:35 ERROR    chromadb.server.fastapi :HTTPDriver for http://clickhouse:8123 returned response code 500)
 std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_18_18_0"] ["/var/l
Traceback (most recent call last):
  File "/chroma/./chromadb/server/fastapi/__init__.py", line 57, in catch_exceptions_middleware
    return await call_next(request)
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 46, in call_next
    raise app_exc
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 36, in coro
    await self.app(scope, request.receive, send_stream.send)
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 75, in __call__
    raise exc
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 64, in __call__
    await self.app(scope, receive, sender)
  File "/usr/local/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/usr/local/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 275, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/usr/local/lib/python3.10/site-packages/fastapi/routing.py", line 231, in app
    raw_response = await run_endpoint_function(
  File "/usr/local/lib/python3.10/site-packages/fastapi/routing.py", line 162, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/usr/local/lib/python3.10/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
  File "/usr/local/lib/python3.10/site-packages/anyio/to_thread.py", line 33, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 877, in run_sync_in_worker_thread
    return await future
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 807, in run
    result = context.run(func, *args)
  File "/chroma/./chromadb/server/fastapi/__init__.py", line 175, in create_collection
    return self._api.create_collection(
  File "/chroma/./chromadb/api/local.py", line 116, in create_collection
    res = self._db.create_collection(name, metadata, get_or_create)
  File "/chroma/./chromadb/db/clickhouse.py", line 187, in create_collection
    self._get_conn().insert(
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/client.py", line 425, in insert
    self.data_insert(context)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 237, in data_insert
    self.raw_insert(context.table,
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 265, in raw_insert
    response = self._raw_request(insert_block, params, headers, error_handler=status_handler)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 355, in _raw_request
    error_handler(response)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 235, in error_handler
    self._error_handler(response)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 312, in _error_handler
    raise OperationalError(err_str) if retried else DatabaseError(err_str) from None
clickhouse_connect.driver.exceptions.DatabaseError: :HTTPDriver for http://clickhouse:8123 returned response code 500)
 std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_18_18_0"] ["/var/l
2023-07-09 14:14:35 INFO     uvicorn.access  172.19.0.6:45746 - "POST /api/v1/collections HTTP/1.1" 500
2023-07-09 14:14:38 INFO     uvicorn.error   Shutting down
2023-07-09 14:14:38 INFO     uvicorn.error   Waiting for application shutdown.
2023-07-09 14:14:38 INFO     uvicorn.error   Application shutdown complete.
2023-07-09 14:14:38 INFO     uvicorn.error   Finished server process [8]
2023-07-09 14:14:39 INFO     uvicorn.error   Stopping reloader process [1]
2023-07-09 14:16:17 INFO     uvicorn.error   Will watch for changes in these directories: ['/chroma']
2023-07-09 14:16:17 INFO     uvicorn.error   Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2023-07-09 14:16:17 INFO     uvicorn.error   Started reloader process [1] using WatchFiles
2023-07-09 14:16:26 INFO     chromadb.telemetry.posthog Anonymized telemetry enabled. See https://docs.trychroma.com/telemetry for more information.
2023-07-09 14:16:28 DEBUG    chromadb.config Starting component System
2023-07-09 14:16:28 DEBUG    chromadb.config Starting component Posthog
2023-07-09 14:16:28 DEBUG    chromadb.config Starting component Clickhouse
2023-07-09 14:16:28 DEBUG    chromadb.config Starting component LocalAPI
2023-07-09 14:16:28 INFO     uvicorn.error   Started server process [9]
2023-07-09 14:16:28 INFO     uvicorn.error   Waiting for application startup.
2023-07-09 14:16:28 INFO     uvicorn.error   Application startup complete.
2023-07-09 14:16:42 INFO     uvicorn.access  172.19.0.6:45768 - "GET /api/v1/collections HTTP/1.1" 200
2023-07-09 14:17:07 ERROR    clickhouse_connect.driver.httpclient std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_1_1_0"] ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/all_1_1_0/"]
Cannot print extra info for Poco::Exception (version 22.9.7.34 (official build))

2023-07-09 14:17:07 ERROR    chromadb.server.fastapi :HTTPDriver for http://clickhouse:8123 returned response code 500)
 std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_1_1_0"] ["/var/lib
Traceback (most recent call last):
  File "/chroma/./chromadb/server/fastapi/__init__.py", line 57, in catch_exceptions_middleware
    return await call_next(request)
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 46, in call_next
    raise app_exc
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 36, in coro
    await self.app(scope, request.receive, send_stream.send)
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 75, in __call__
    raise exc
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 64, in __call__
    await self.app(scope, receive, sender)
  File "/usr/local/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/usr/local/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 275, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/usr/local/lib/python3.10/site-packages/fastapi/routing.py", line 231, in app
    raw_response = await run_endpoint_function(
  File "/usr/local/lib/python3.10/site-packages/fastapi/routing.py", line 162, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/usr/local/lib/python3.10/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
  File "/usr/local/lib/python3.10/site-packages/anyio/to_thread.py", line 33, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 877, in run_sync_in_worker_thread
    return await future
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 807, in run
    result = context.run(func, *args)
  File "/chroma/./chromadb/server/fastapi/__init__.py", line 175, in create_collection
    return self._api.create_collection(
  File "/chroma/./chromadb/api/local.py", line 116, in create_collection
    res = self._db.create_collection(name, metadata, get_or_create)
  File "/chroma/./chromadb/db/clickhouse.py", line 187, in create_collection
    self._get_conn().insert(
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/client.py", line 425, in insert
    self.data_insert(context)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 237, in data_insert
    self.raw_insert(context.table,
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 265, in raw_insert
    response = self._raw_request(insert_block, params, headers, error_handler=status_handler)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 355, in _raw_request
    error_handler(response)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 235, in error_handler
    self._error_handler(response)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 312, in _error_handler
    raise OperationalError(err_str) if retried else DatabaseError(err_str) from None
clickhouse_connect.driver.exceptions.DatabaseError: :HTTPDriver for http://clickhouse:8123 returned response code 500)
 std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_1_1_0"] ["/var/lib
2023-07-09 14:17:07 INFO     uvicorn.access  172.19.0.6:45786 - "POST /api/v1/collections HTTP/1.1" 500
2023-07-09 14:17:15 INFO     uvicorn.access  172.19.0.6:45790 - "GET /api/v1/collections HTTP/1.1" 200
2023-07-09 14:17:23 ERROR    clickhouse_connect.driver.httpclient std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_2_2_0"] ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/all_2_2_0/"]
Cannot print extra info for Poco::Exception (version 22.9.7.34 (official build))

2023-07-09 14:17:23 ERROR    chromadb.server.fastapi :HTTPDriver for http://clickhouse:8123 returned response code 500)
 std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_2_2_0"] ["/var/lib
Traceback (most recent call last):
  File "/chroma/./chromadb/server/fastapi/__init__.py", line 57, in catch_exceptions_middleware
    return await call_next(request)
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 46, in call_next
    raise app_exc
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 36, in coro
    await self.app(scope, request.receive, send_stream.send)
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 75, in __call__
    raise exc
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 64, in __call__
    await self.app(scope, receive, sender)
  File "/usr/local/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/usr/local/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 275, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/usr/local/lib/python3.10/site-packages/fastapi/routing.py", line 231, in app
    raw_response = await run_endpoint_function(
  File "/usr/local/lib/python3.10/site-packages/fastapi/routing.py", line 162, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/usr/local/lib/python3.10/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
  File "/usr/local/lib/python3.10/site-packages/anyio/to_thread.py", line 33, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 877, in run_sync_in_worker_thread
    return await future
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 807, in run
    result = context.run(func, *args)
  File "/chroma/./chromadb/server/fastapi/__init__.py", line 175, in create_collection
    return self._api.create_collection(
  File "/chroma/./chromadb/api/local.py", line 116, in create_collection
    res = self._db.create_collection(name, metadata, get_or_create)
  File "/chroma/./chromadb/db/clickhouse.py", line 187, in create_collection
    self._get_conn().insert(
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/client.py", line 425, in insert
    self.data_insert(context)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 237, in data_insert
    self.raw_insert(context.table,
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 265, in raw_insert
    response = self._raw_request(insert_block, params, headers, error_handler=status_handler)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 355, in _raw_request
    error_handler(response)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 235, in error_handler
    self._error_handler(response)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 312, in _error_handler
    raise OperationalError(err_str) if retried else DatabaseError(err_str) from None
clickhouse_connect.driver.exceptions.DatabaseError: :HTTPDriver for http://clickhouse:8123 returned response code 500)
 std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_2_2_0"] ["/var/lib
2023-07-09 14:17:23 INFO     uvicorn.access  172.19.0.6:45796 - "POST /api/v1/collections HTTP/1.1" 500
2023-07-09 14:17:31 INFO     uvicorn.access  172.19.0.6:45800 - "GET /api/v1/collections HTTP/1.1" 200
2023-07-09 14:17:38 ERROR    clickhouse_connect.driver.httpclient std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_3_3_0"] ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/all_3_3_0/"]
Cannot print extra info for Poco::Exception (version 22.9.7.34 (official build))

2023-07-09 14:17:38 ERROR    chromadb.server.fastapi :HTTPDriver for http://clickhouse:8123 returned response code 500)
 std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_3_3_0"] ["/var/lib
Traceback (most recent call last):
  File "/chroma/./chromadb/server/fastapi/__init__.py", line 57, in catch_exceptions_middleware
    return await call_next(request)
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 46, in call_next
    raise app_exc
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 36, in coro
    await self.app(scope, request.receive, send_stream.send)
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 75, in __call__
    raise exc
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 64, in __call__
    await self.app(scope, receive, sender)
  File "/usr/local/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/usr/local/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 275, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/usr/local/lib/python3.10/site-packages/fastapi/routing.py", line 231, in app
    raw_response = await run_endpoint_function(
  File "/usr/local/lib/python3.10/site-packages/fastapi/routing.py", line 162, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/usr/local/lib/python3.10/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
  File "/usr/local/lib/python3.10/site-packages/anyio/to_thread.py", line 33, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 877, in run_sync_in_worker_thread
    return await future
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 807, in run
    result = context.run(func, *args)
  File "/chroma/./chromadb/server/fastapi/__init__.py", line 175, in create_collection
    return self._api.create_collection(
  File "/chroma/./chromadb/api/local.py", line 116, in create_collection
    res = self._db.create_collection(name, metadata, get_or_create)
  File "/chroma/./chromadb/db/clickhouse.py", line 187, in create_collection
    self._get_conn().insert(
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/client.py", line 425, in insert
    self.data_insert(context)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 237, in data_insert
    self.raw_insert(context.table,
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 265, in raw_insert
    response = self._raw_request(insert_block, params, headers, error_handler=status_handler)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 355, in _raw_request
    error_handler(response)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 235, in error_handler
    self._error_handler(response)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 312, in _error_handler
    raise OperationalError(err_str) if retried else DatabaseError(err_str) from None
clickhouse_connect.driver.exceptions.DatabaseError: :HTTPDriver for http://clickhouse:8123 returned response code 500)
 std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_3_3_0"] ["/var/lib
2023-07-09 14:17:38 INFO     uvicorn.access  172.19.0.6:45806 - "POST /api/v1/collections HTTP/1.1" 500
2023-07-09 14:17:41 INFO     uvicorn.error   Shutting down
2023-07-09 14:17:41 INFO     uvicorn.error   Waiting for application shutdown.
2023-07-09 14:17:41 INFO     uvicorn.error   Application shutdown complete.
2023-07-09 14:17:41 INFO     uvicorn.error   Finished server process [9]
2023-07-09 14:17:41 INFO     uvicorn.error   Stopping reloader process [1]
2023-07-09 14:22:13 INFO     uvicorn.error   Will watch for changes in these directories: ['/chroma']
2023-07-09 14:22:13 INFO     uvicorn.error   Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2023-07-09 14:22:13 INFO     uvicorn.error   Started reloader process [1] using WatchFiles
2023-07-09 14:22:17 INFO     chromadb.telemetry.posthog Anonymized telemetry enabled. See https://docs.trychroma.com/telemetry for more information.
2023-07-09 14:22:18 DEBUG    chromadb.config Starting component System
2023-07-09 14:22:18 DEBUG    chromadb.config Starting component Posthog
2023-07-09 14:22:19 DEBUG    chromadb.config Starting component Clickhouse
2023-07-09 14:22:19 DEBUG    chromadb.config Starting component LocalAPI
2023-07-09 14:22:19 INFO     uvicorn.error   Started server process [8]
2023-07-09 14:22:19 INFO     uvicorn.error   Waiting for application startup.
2023-07-09 14:22:19 INFO     uvicorn.error   Application startup complete.
2023-07-09 14:22:27 INFO     uvicorn.access  172.20.0.6:47634 - "GET /api/v1/collections HTTP/1.1" 200
2023-07-09 14:22:50 ERROR    clickhouse_connect.driver.httpclient std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_1_1_0"] ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/all_1_1_0/"]
Cannot print extra info for Poco::Exception (version 22.9.7.34 (official build))

2023-07-09 14:22:50 ERROR    chromadb.server.fastapi :HTTPDriver for http://clickhouse:8123 returned response code 500)
 std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_1_1_0"] ["/var/lib
Traceback (most recent call last):
  File "/chroma/./chromadb/server/fastapi/__init__.py", line 57, in catch_exceptions_middleware
    return await call_next(request)
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 46, in call_next
    raise app_exc
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 36, in coro
    await self.app(scope, request.receive, send_stream.send)
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 75, in __call__
    raise exc
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 64, in __call__
    await self.app(scope, receive, sender)
  File "/usr/local/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/usr/local/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 275, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/usr/local/lib/python3.10/site-packages/fastapi/routing.py", line 231, in app
    raw_response = await run_endpoint_function(
  File "/usr/local/lib/python3.10/site-packages/fastapi/routing.py", line 162, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/usr/local/lib/python3.10/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
  File "/usr/local/lib/python3.10/site-packages/anyio/to_thread.py", line 33, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 877, in run_sync_in_worker_thread
    return await future
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 807, in run
    result = context.run(func, *args)
  File "/chroma/./chromadb/server/fastapi/__init__.py", line 175, in create_collection
    return self._api.create_collection(
  File "/chroma/./chromadb/api/local.py", line 116, in create_collection
    res = self._db.create_collection(name, metadata, get_or_create)
  File "/chroma/./chromadb/db/clickhouse.py", line 187, in create_collection
    self._get_conn().insert(
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/client.py", line 425, in insert
    self.data_insert(context)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 237, in data_insert
    self.raw_insert(context.table,
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 265, in raw_insert
    response = self._raw_request(insert_block, params, headers, error_handler=status_handler)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 355, in _raw_request
    error_handler(response)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 235, in error_handler
    self._error_handler(response)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 312, in _error_handler
    raise OperationalError(err_str) if retried else DatabaseError(err_str) from None
clickhouse_connect.driver.exceptions.DatabaseError: :HTTPDriver for http://clickhouse:8123 returned response code 500)
 std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_1_1_0"] ["/var/lib
2023-07-09 14:22:50 INFO     uvicorn.access  172.20.0.6:47664 - "POST /api/v1/collections HTTP/1.1" 500
2023-07-09 14:22:58 INFO     uvicorn.access  172.20.0.6:47670 - "GET /api/v1/collections HTTP/1.1" 200
2023-07-09 14:23:06 ERROR    clickhouse_connect.driver.httpclient std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_2_2_0"] ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/all_2_2_0/"]
Cannot print extra info for Poco::Exception (version 22.9.7.34 (official build))

2023-07-09 14:23:06 ERROR    chromadb.server.fastapi :HTTPDriver for http://clickhouse:8123 returned response code 500)
 std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_2_2_0"] ["/var/lib
Traceback (most recent call last):
  File "/chroma/./chromadb/server/fastapi/__init__.py", line 57, in catch_exceptions_middleware
    return await call_next(request)
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 46, in call_next
    raise app_exc
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 36, in coro
    await self.app(scope, request.receive, send_stream.send)
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 75, in __call__
    raise exc
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 64, in __call__
    await self.app(scope, receive, sender)
  File "/usr/local/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/usr/local/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 275, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/usr/local/lib/python3.10/site-packages/fastapi/routing.py", line 231, in app
    raw_response = await run_endpoint_function(
  File "/usr/local/lib/python3.10/site-packages/fastapi/routing.py", line 162, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/usr/local/lib/python3.10/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
  File "/usr/local/lib/python3.10/site-packages/anyio/to_thread.py", line 33, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 877, in run_sync_in_worker_thread
    return await future
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 807, in run
    result = context.run(func, *args)
  File "/chroma/./chromadb/server/fastapi/__init__.py", line 175, in create_collection
    return self._api.create_collection(
  File "/chroma/./chromadb/api/local.py", line 116, in create_collection
    res = self._db.create_collection(name, metadata, get_or_create)
  File "/chroma/./chromadb/db/clickhouse.py", line 187, in create_collection
    self._get_conn().insert(
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/client.py", line 425, in insert
    self.data_insert(context)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 237, in data_insert
    self.raw_insert(context.table,
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 265, in raw_insert
    response = self._raw_request(insert_block, params, headers, error_handler=status_handler)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 355, in _raw_request
    error_handler(response)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 235, in error_handler
    self._error_handler(response)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 312, in _error_handler
    raise OperationalError(err_str) if retried else DatabaseError(err_str) from None
clickhouse_connect.driver.exceptions.DatabaseError: :HTTPDriver for http://clickhouse:8123 returned response code 500)
 std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_2_2_0"] ["/var/lib
2023-07-09 14:23:06 INFO     uvicorn.access  172.20.0.6:47676 - "POST /api/v1/collections HTTP/1.1" 500
2023-07-09 14:23:14 INFO     uvicorn.access  172.20.0.6:47682 - "GET /api/v1/collections HTTP/1.1" 200
2023-07-09 14:23:22 ERROR    clickhouse_connect.driver.httpclient std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_3_3_0"] ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/all_3_3_0/"]
Cannot print extra info for Poco::Exception (version 22.9.7.34 (official build))

2023-07-09 14:23:22 ERROR    chromadb.server.fastapi :HTTPDriver for http://clickhouse:8123 returned response code 500)
 std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_3_3_0"] ["/var/lib
Traceback (most recent call last):
  File "/chroma/./chromadb/server/fastapi/__init__.py", line 57, in catch_exceptions_middleware
    return await call_next(request)
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 46, in call_next
    raise app_exc
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 36, in coro
    await self.app(scope, request.receive, send_stream.send)
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 75, in __call__
    raise exc
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 64, in __call__
    await self.app(scope, receive, sender)
  File "/usr/local/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/usr/local/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 275, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/usr/local/lib/python3.10/site-packages/fastapi/routing.py", line 231, in app
    raw_response = await run_endpoint_function(
  File "/usr/local/lib/python3.10/site-packages/fastapi/routing.py", line 162, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/usr/local/lib/python3.10/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
  File "/usr/local/lib/python3.10/site-packages/anyio/to_thread.py", line 33, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 877, in run_sync_in_worker_thread
    return await future
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 807, in run
    result = context.run(func, *args)
  File "/chroma/./chromadb/server/fastapi/__init__.py", line 175, in create_collection
    return self._api.create_collection(
  File "/chroma/./chromadb/api/local.py", line 116, in create_collection
    res = self._db.create_collection(name, metadata, get_or_create)
  File "/chroma/./chromadb/db/clickhouse.py", line 187, in create_collection
    self._get_conn().insert(
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/client.py", line 425, in insert
    self.data_insert(context)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 237, in data_insert
    self.raw_insert(context.table,
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 265, in raw_insert
    response = self._raw_request(insert_block, params, headers, error_handler=status_handler)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 355, in _raw_request
    error_handler(response)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 235, in error_handler
    self._error_handler(response)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 312, in _error_handler
    raise OperationalError(err_str) if retried else DatabaseError(err_str) from None
clickhouse_connect.driver.exceptions.DatabaseError: :HTTPDriver for http://clickhouse:8123 returned response code 500)
 std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_3_3_0"] ["/var/lib
2023-07-09 14:23:22 INFO     uvicorn.access  172.20.0.6:47688 - "POST /api/v1/collections HTTP/1.1" 500
2023-07-09 14:23:30 INFO     uvicorn.access  172.20.0.4:51964 - "GET /api/v1/collections HTTP/1.1" 200
2023-07-09 14:23:37 ERROR    clickhouse_connect.driver.httpclient std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_4_4_0"] ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/all_4_4_0/"]
Cannot print extra info for Poco::Exception (version 22.9.7.34 (official build))

2023-07-09 14:23:37 ERROR    chromadb.server.fastapi :HTTPDriver for http://clickhouse:8123 returned response code 500)
 std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_4_4_0"] ["/var/lib
Traceback (most recent call last):
  File "/chroma/./chromadb/server/fastapi/__init__.py", line 57, in catch_exceptions_middleware
    return await call_next(request)
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 46, in call_next
    raise app_exc
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 36, in coro
    await self.app(scope, request.receive, send_stream.send)
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 75, in __call__
    raise exc
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 64, in __call__
    await self.app(scope, receive, sender)
  File "/usr/local/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/usr/local/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 275, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/usr/local/lib/python3.10/site-packages/fastapi/routing.py", line 231, in app
    raw_response = await run_endpoint_function(
  File "/usr/local/lib/python3.10/site-packages/fastapi/routing.py", line 162, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/usr/local/lib/python3.10/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
  File "/usr/local/lib/python3.10/site-packages/anyio/to_thread.py", line 33, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 877, in run_sync_in_worker_thread
    return await future
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 807, in run
    result = context.run(func, *args)
  File "/chroma/./chromadb/server/fastapi/__init__.py", line 175, in create_collection
    return self._api.create_collection(
  File "/chroma/./chromadb/api/local.py", line 116, in create_collection
    res = self._db.create_collection(name, metadata, get_or_create)
  File "/chroma/./chromadb/db/clickhouse.py", line 187, in create_collection
    self._get_conn().insert(
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/client.py", line 425, in insert
    self.data_insert(context)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 237, in data_insert
    self.raw_insert(context.table,
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 265, in raw_insert
    response = self._raw_request(insert_block, params, headers, error_handler=status_handler)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 355, in _raw_request
    error_handler(response)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 235, in error_handler
    self._error_handler(response)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 312, in _error_handler
    raise OperationalError(err_str) if retried else DatabaseError(err_str) from None
clickhouse_connect.driver.exceptions.DatabaseError: :HTTPDriver for http://clickhouse:8123 returned response code 500)
 std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_4_4_0"] ["/var/lib
2023-07-09 14:23:37 INFO     uvicorn.access  172.20.0.4:51972 - "POST /api/v1/collections HTTP/1.1" 500
2023-07-09 14:23:44 INFO     uvicorn.access  172.20.0.4:51976 - "GET /api/v1/collections HTTP/1.1" 200
2023-07-09 14:23:50 ERROR    clickhouse_connect.driver.httpclient std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_5_5_0"] ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/all_5_5_0/"]
Cannot print extra info for Poco::Exception (version 22.9.7.34 (official build))

2023-07-09 14:23:50 ERROR    chromadb.server.fastapi :HTTPDriver for http://clickhouse:8123 returned response code 500)
 std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_5_5_0"] ["/var/lib
Traceback (most recent call last):
  File "/chroma/./chromadb/server/fastapi/__init__.py", line 57, in catch_exceptions_middleware
    return await call_next(request)
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 46, in call_next
    raise app_exc
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 36, in coro
    await self.app(scope, request.receive, send_stream.send)
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 75, in __call__
    raise exc
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 64, in __call__
    await self.app(scope, receive, sender)
  File "/usr/local/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/usr/local/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 275, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/usr/local/lib/python3.10/site-packages/fastapi/routing.py", line 231, in app
    raw_response = await run_endpoint_function(
  File "/usr/local/lib/python3.10/site-packages/fastapi/routing.py", line 162, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/usr/local/lib/python3.10/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
  File "/usr/local/lib/python3.10/site-packages/anyio/to_thread.py", line 33, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 877, in run_sync_in_worker_thread
    return await future
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 807, in run
    result = context.run(func, *args)
  File "/chroma/./chromadb/server/fastapi/__init__.py", line 175, in create_collection
    return self._api.create_collection(
  File "/chroma/./chromadb/api/local.py", line 116, in create_collection
    res = self._db.create_collection(name, metadata, get_or_create)
  File "/chroma/./chromadb/db/clickhouse.py", line 187, in create_collection
    self._get_conn().insert(
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/client.py", line 425, in insert
    self.data_insert(context)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 237, in data_insert
    self.raw_insert(context.table,
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 265, in raw_insert
    response = self._raw_request(insert_block, params, headers, error_handler=status_handler)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 355, in _raw_request
    error_handler(response)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 235, in error_handler
    self._error_handler(response)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 312, in _error_handler
    raise OperationalError(err_str) if retried else DatabaseError(err_str) from None
clickhouse_connect.driver.exceptions.DatabaseError: :HTTPDriver for http://clickhouse:8123 returned response code 500)
 std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_5_5_0"] ["/var/lib
2023-07-09 14:23:50 INFO     uvicorn.access  172.20.0.4:51982 - "POST /api/v1/collections HTTP/1.1" 500
2023-07-09 14:23:58 INFO     uvicorn.access  172.20.0.4:51986 - "GET /api/v1/collections HTTP/1.1" 200
2023-07-09 14:24:04 ERROR    clickhouse_connect.driver.httpclient std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_6_6_0"] ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/all_6_6_0/"]
Cannot print extra info for Poco::Exception (version 22.9.7.34 (official build))

2023-07-09 14:24:04 ERROR    chromadb.server.fastapi :HTTPDriver for http://clickhouse:8123 returned response code 500)
 std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_6_6_0"] ["/var/lib
Traceback (most recent call last):
  File "/chroma/./chromadb/server/fastapi/__init__.py", line 57, in catch_exceptions_middleware
    return await call_next(request)
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 46, in call_next
    raise app_exc
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 36, in coro
    await self.app(scope, request.receive, send_stream.send)
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 75, in __call__
    raise exc
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 64, in __call__
    await self.app(scope, receive, sender)
  File "/usr/local/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/usr/local/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 275, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/usr/local/lib/python3.10/site-packages/fastapi/routing.py", line 231, in app
    raw_response = await run_endpoint_function(
  File "/usr/local/lib/python3.10/site-packages/fastapi/routing.py", line 162, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/usr/local/lib/python3.10/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
  File "/usr/local/lib/python3.10/site-packages/anyio/to_thread.py", line 33, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 877, in run_sync_in_worker_thread
    return await future
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 807, in run
    result = context.run(func, *args)
  File "/chroma/./chromadb/server/fastapi/__init__.py", line 175, in create_collection
    return self._api.create_collection(
  File "/chroma/./chromadb/api/local.py", line 116, in create_collection
    res = self._db.create_collection(name, metadata, get_or_create)
  File "/chroma/./chromadb/db/clickhouse.py", line 187, in create_collection
    self._get_conn().insert(
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/client.py", line 425, in insert
    self.data_insert(context)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 237, in data_insert
    self.raw_insert(context.table,
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 265, in raw_insert
    response = self._raw_request(insert_block, params, headers, error_handler=status_handler)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 355, in _raw_request
    error_handler(response)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 235, in error_handler
    self._error_handler(response)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 312, in _error_handler
    raise OperationalError(err_str) if retried else DatabaseError(err_str) from None
clickhouse_connect.driver.exceptions.DatabaseError: :HTTPDriver for http://clickhouse:8123 returned response code 500)
 std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_6_6_0"] ["/var/lib
2023-07-09 14:24:04 INFO     uvicorn.access  172.20.0.4:51992 - "POST /api/v1/collections HTTP/1.1" 500
2023-07-09 14:24:10 INFO     uvicorn.access  172.20.0.4:51996 - "GET /api/v1/collections HTTP/1.1" 200
2023-07-09 14:24:16 ERROR    clickhouse_connect.driver.httpclient std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_7_7_0"] ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/all_7_7_0/"]
Cannot print extra info for Poco::Exception (version 22.9.7.34 (official build))

2023-07-09 14:24:16 ERROR    chromadb.server.fastapi :HTTPDriver for http://clickhouse:8123 returned response code 500)
 std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_7_7_0"] ["/var/lib
Traceback (most recent call last):
  File "/chroma/./chromadb/server/fastapi/__init__.py", line 57, in catch_exceptions_middleware
    return await call_next(request)
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 46, in call_next
    raise app_exc
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 36, in coro
    await self.app(scope, request.receive, send_stream.send)
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 75, in __call__
    raise exc
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 64, in __call__
    await self.app(scope, receive, sender)
  File "/usr/local/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/usr/local/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 275, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/usr/local/lib/python3.10/site-packages/fastapi/routing.py", line 231, in app
    raw_response = await run_endpoint_function(
  File "/usr/local/lib/python3.10/site-packages/fastapi/routing.py", line 162, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/usr/local/lib/python3.10/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
  File "/usr/local/lib/python3.10/site-packages/anyio/to_thread.py", line 33, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 877, in run_sync_in_worker_thread
    return await future
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 807, in run
    result = context.run(func, *args)
  File "/chroma/./chromadb/server/fastapi/__init__.py", line 175, in create_collection
    return self._api.create_collection(
  File "/chroma/./chromadb/api/local.py", line 116, in create_collection
    res = self._db.create_collection(name, metadata, get_or_create)
  File "/chroma/./chromadb/db/clickhouse.py", line 187, in create_collection
    self._get_conn().insert(
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/client.py", line 425, in insert
    self.data_insert(context)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 237, in data_insert
    self.raw_insert(context.table,
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 265, in raw_insert
    response = self._raw_request(insert_block, params, headers, error_handler=status_handler)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 355, in _raw_request
    error_handler(response)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 235, in error_handler
    self._error_handler(response)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 312, in _error_handler
    raise OperationalError(err_str) if retried else DatabaseError(err_str) from None
clickhouse_connect.driver.exceptions.DatabaseError: :HTTPDriver for http://clickhouse:8123 returned response code 500)
 std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_7_7_0"] ["/var/lib
2023-07-09 14:24:16 INFO     uvicorn.access  172.20.0.4:52002 - "POST /api/v1/collections HTTP/1.1" 500
2023-07-09 14:24:22 INFO     uvicorn.access  172.20.0.4:52006 - "GET /api/v1/collections HTTP/1.1" 200
2023-07-09 14:24:28 ERROR    clickhouse_connect.driver.httpclient std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_8_8_0"] ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/all_8_8_0/"]
Cannot print extra info for Poco::Exception (version 22.9.7.34 (official build))

2023-07-09 14:24:28 ERROR    chromadb.server.fastapi :HTTPDriver for http://clickhouse:8123 returned response code 500)
 std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_8_8_0"] ["/var/lib
Traceback (most recent call last):
  File "/chroma/./chromadb/server/fastapi/__init__.py", line 57, in catch_exceptions_middleware
    return await call_next(request)
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 46, in call_next
    raise app_exc
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 36, in coro
    await self.app(scope, request.receive, send_stream.send)
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 75, in __call__
    raise exc
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 64, in __call__
    await self.app(scope, receive, sender)
  File "/usr/local/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/usr/local/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 275, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/usr/local/lib/python3.10/site-packages/fastapi/routing.py", line 231, in app
    raw_response = await run_endpoint_function(
  File "/usr/local/lib/python3.10/site-packages/fastapi/routing.py", line 162, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/usr/local/lib/python3.10/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
  File "/usr/local/lib/python3.10/site-packages/anyio/to_thread.py", line 33, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 877, in run_sync_in_worker_thread
    return await future
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 807, in run
    result = context.run(func, *args)
  File "/chroma/./chromadb/server/fastapi/__init__.py", line 175, in create_collection
    return self._api.create_collection(
  File "/chroma/./chromadb/api/local.py", line 116, in create_collection
    res = self._db.create_collection(name, metadata, get_or_create)
  File "/chroma/./chromadb/db/clickhouse.py", line 187, in create_collection
    self._get_conn().insert(
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/client.py", line 425, in insert
    self.data_insert(context)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 237, in data_insert
    self.raw_insert(context.table,
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 265, in raw_insert
    response = self._raw_request(insert_block, params, headers, error_handler=status_handler)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 355, in _raw_request
    error_handler(response)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 235, in error_handler
    self._error_handler(response)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 312, in _error_handler
    raise OperationalError(err_str) if retried else DatabaseError(err_str) from None
clickhouse_connect.driver.exceptions.DatabaseError: :HTTPDriver for http://clickhouse:8123 returned response code 500)
 std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_8_8_0"] ["/var/lib
2023-07-09 14:24:28 INFO     uvicorn.access  172.20.0.4:52012 - "POST /api/v1/collections HTTP/1.1" 500
2023-07-09 14:24:34 INFO     uvicorn.access  172.20.0.4:52016 - "GET /api/v1/collections HTTP/1.1" 200
2023-07-09 14:24:41 ERROR    clickhouse_connect.driver.httpclient std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_9_9_0"] ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/all_9_9_0/"]
Cannot print extra info for Poco::Exception (version 22.9.7.34 (official build))

2023-07-09 14:24:41 ERROR    chromadb.server.fastapi :HTTPDriver for http://clickhouse:8123 returned response code 500)
 std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_9_9_0"] ["/var/lib
Traceback (most recent call last):
  File "/chroma/./chromadb/server/fastapi/__init__.py", line 57, in catch_exceptions_middleware
    return await call_next(request)
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 46, in call_next
    raise app_exc
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 36, in coro
    await self.app(scope, request.receive, send_stream.send)
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 75, in __call__
    raise exc
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 64, in __call__
    await self.app(scope, receive, sender)
  File "/usr/local/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/usr/local/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 275, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/usr/local/lib/python3.10/site-packages/fastapi/routing.py", line 231, in app
    raw_response = await run_endpoint_function(
  File "/usr/local/lib/python3.10/site-packages/fastapi/routing.py", line 162, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/usr/local/lib/python3.10/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
  File "/usr/local/lib/python3.10/site-packages/anyio/to_thread.py", line 33, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 877, in run_sync_in_worker_thread
    return await future
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 807, in run
    result = context.run(func, *args)
  File "/chroma/./chromadb/server/fastapi/__init__.py", line 175, in create_collection
    return self._api.create_collection(
  File "/chroma/./chromadb/api/local.py", line 116, in create_collection
    res = self._db.create_collection(name, metadata, get_or_create)
  File "/chroma/./chromadb/db/clickhouse.py", line 187, in create_collection
    self._get_conn().insert(
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/client.py", line 425, in insert
    self.data_insert(context)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 237, in data_insert
    self.raw_insert(context.table,
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 265, in raw_insert
    response = self._raw_request(insert_block, params, headers, error_handler=status_handler)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 355, in _raw_request
    error_handler(response)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 235, in error_handler
    self._error_handler(response)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 312, in _error_handler
    raise OperationalError(err_str) if retried else DatabaseError(err_str) from None
clickhouse_connect.driver.exceptions.DatabaseError: :HTTPDriver for http://clickhouse:8123 returned response code 500)
 std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_9_9_0"] ["/var/lib
2023-07-09 14:24:41 INFO     uvicorn.access  172.20.0.4:52022 - "POST /api/v1/collections HTTP/1.1" 500
2023-07-09 14:24:47 INFO     uvicorn.access  172.20.0.4:52026 - "GET /api/v1/collections HTTP/1.1" 200
2023-07-09 14:24:54 ERROR    clickhouse_connect.driver.httpclient std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_10_10_0"] ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/all_10_10_0/"]
Cannot print extra info for Poco::Exception (version 22.9.7.34 (official build))

2023-07-09 14:24:54 ERROR    chromadb.server.fastapi :HTTPDriver for http://clickhouse:8123 returned response code 500)
 std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_10_10_0"] ["/var/l
Traceback (most recent call last):
  File "/chroma/./chromadb/server/fastapi/__init__.py", line 57, in catch_exceptions_middleware
    return await call_next(request)
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 46, in call_next
    raise app_exc
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 36, in coro
    await self.app(scope, request.receive, send_stream.send)
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 75, in __call__
    raise exc
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 64, in __call__
    await self.app(scope, receive, sender)
  File "/usr/local/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/usr/local/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 275, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/usr/local/lib/python3.10/site-packages/fastapi/routing.py", line 231, in app
    raw_response = await run_endpoint_function(
  File "/usr/local/lib/python3.10/site-packages/fastapi/routing.py", line 162, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/usr/local/lib/python3.10/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
  File "/usr/local/lib/python3.10/site-packages/anyio/to_thread.py", line 33, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 877, in run_sync_in_worker_thread
    return await future
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 807, in run
    result = context.run(func, *args)
  File "/chroma/./chromadb/server/fastapi/__init__.py", line 175, in create_collection
    return self._api.create_collection(
  File "/chroma/./chromadb/api/local.py", line 116, in create_collection
    res = self._db.create_collection(name, metadata, get_or_create)
  File "/chroma/./chromadb/db/clickhouse.py", line 187, in create_collection
    self._get_conn().insert(
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/client.py", line 425, in insert
    self.data_insert(context)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 237, in data_insert
    self.raw_insert(context.table,
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 265, in raw_insert
    response = self._raw_request(insert_block, params, headers, error_handler=status_handler)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 355, in _raw_request
    error_handler(response)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 235, in error_handler
    self._error_handler(response)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 312, in _error_handler
    raise OperationalError(err_str) if retried else DatabaseError(err_str) from None
clickhouse_connect.driver.exceptions.DatabaseError: :HTTPDriver for http://clickhouse:8123 returned response code 500)
 std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_10_10_0"] ["/var/l
2023-07-09 14:24:54 INFO     uvicorn.access  172.20.0.4:52032 - "POST /api/v1/collections HTTP/1.1" 500
2023-07-09 14:25:01 INFO     uvicorn.access  172.20.0.4:52036 - "GET /api/v1/collections HTTP/1.1" 200
2023-07-09 14:25:09 ERROR    clickhouse_connect.driver.httpclient std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_11_11_0"] ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/all_11_11_0/"]
Cannot print extra info for Poco::Exception (version 22.9.7.34 (official build))

2023-07-09 14:25:09 ERROR    chromadb.server.fastapi :HTTPDriver for http://clickhouse:8123 returned response code 500)
 std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_11_11_0"] ["/var/l
Traceback (most recent call last):
  File "/chroma/./chromadb/server/fastapi/__init__.py", line 57, in catch_exceptions_middleware
    return await call_next(request)
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 46, in call_next
    raise app_exc
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 36, in coro
    await self.app(scope, request.receive, send_stream.send)
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 75, in __call__
    raise exc
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 64, in __call__
    await self.app(scope, receive, sender)
  File "/usr/local/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/usr/local/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 275, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/usr/local/lib/python3.10/site-packages/fastapi/routing.py", line 231, in app
    raw_response = await run_endpoint_function(
  File "/usr/local/lib/python3.10/site-packages/fastapi/routing.py", line 162, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/usr/local/lib/python3.10/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
  File "/usr/local/lib/python3.10/site-packages/anyio/to_thread.py", line 33, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 877, in run_sync_in_worker_thread
    return await future
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 807, in run
    result = context.run(func, *args)
  File "/chroma/./chromadb/server/fastapi/__init__.py", line 175, in create_collection
    return self._api.create_collection(
  File "/chroma/./chromadb/api/local.py", line 116, in create_collection
    res = self._db.create_collection(name, metadata, get_or_create)
  File "/chroma/./chromadb/db/clickhouse.py", line 187, in create_collection
    self._get_conn().insert(
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/client.py", line 425, in insert
    self.data_insert(context)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 237, in data_insert
    self.raw_insert(context.table,
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 265, in raw_insert
    response = self._raw_request(insert_block, params, headers, error_handler=status_handler)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 355, in _raw_request
    error_handler(response)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 235, in error_handler
    self._error_handler(response)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 312, in _error_handler
    raise OperationalError(err_str) if retried else DatabaseError(err_str) from None
clickhouse_connect.driver.exceptions.DatabaseError: :HTTPDriver for http://clickhouse:8123 returned response code 500)
 std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_11_11_0"] ["/var/l
2023-07-09 14:25:09 INFO     uvicorn.access  172.20.0.4:52042 - "POST /api/v1/collections HTTP/1.1" 500
2023-07-09 14:25:16 INFO     uvicorn.access  172.20.0.4:52046 - "GET /api/v1/collections HTTP/1.1" 200
2023-07-09 14:25:24 ERROR    clickhouse_connect.driver.httpclient std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_12_12_0"] ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/all_12_12_0/"]
Cannot print extra info for Poco::Exception (version 22.9.7.34 (official build))

2023-07-09 14:25:24 ERROR    chromadb.server.fastapi :HTTPDriver for http://clickhouse:8123 returned response code 500)
 std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_12_12_0"] ["/var/l
Traceback (most recent call last):
  File "/chroma/./chromadb/server/fastapi/__init__.py", line 57, in catch_exceptions_middleware
    return await call_next(request)
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 46, in call_next
    raise app_exc
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 36, in coro
    await self.app(scope, request.receive, send_stream.send)
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 75, in __call__
    raise exc
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 64, in __call__
    await self.app(scope, receive, sender)
  File "/usr/local/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/usr/local/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 275, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/usr/local/lib/python3.10/site-packages/fastapi/routing.py", line 231, in app
    raw_response = await run_endpoint_function(
  File "/usr/local/lib/python3.10/site-packages/fastapi/routing.py", line 162, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/usr/local/lib/python3.10/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
  File "/usr/local/lib/python3.10/site-packages/anyio/to_thread.py", line 33, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 877, in run_sync_in_worker_thread
    return await future
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 807, in run
    result = context.run(func, *args)
  File "/chroma/./chromadb/server/fastapi/__init__.py", line 175, in create_collection
    return self._api.create_collection(
  File "/chroma/./chromadb/api/local.py", line 116, in create_collection
    res = self._db.create_collection(name, metadata, get_or_create)
  File "/chroma/./chromadb/db/clickhouse.py", line 187, in create_collection
    self._get_conn().insert(
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/client.py", line 425, in insert
    self.data_insert(context)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 237, in data_insert
    self.raw_insert(context.table,
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 265, in raw_insert
    response = self._raw_request(insert_block, params, headers, error_handler=status_handler)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 355, in _raw_request
    error_handler(response)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 235, in error_handler
    self._error_handler(response)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 312, in _error_handler
    raise OperationalError(err_str) if retried else DatabaseError(err_str) from None
clickhouse_connect.driver.exceptions.DatabaseError: :HTTPDriver for http://clickhouse:8123 returned response code 500)
 std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_12_12_0"] ["/var/l
2023-07-09 14:25:24 INFO     uvicorn.access  172.20.0.4:52052 - "POST /api/v1/collections HTTP/1.1" 500
2023-07-09 14:25:27 INFO     uvicorn.error   Shutting down
2023-07-09 14:25:27 INFO     uvicorn.error   Waiting for application shutdown.
2023-07-09 14:25:27 INFO     uvicorn.error   Application shutdown complete.
2023-07-09 14:25:27 INFO     uvicorn.error   Finished server process [8]
2023-07-09 14:25:28 INFO     uvicorn.error   Stopping reloader process [1]
2023-07-09 14:32:44 INFO     uvicorn.error   Will watch for changes in these directories: ['/chroma']
2023-07-09 14:32:44 INFO     uvicorn.error   Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2023-07-09 14:32:44 INFO     uvicorn.error   Started reloader process [1] using WatchFiles
2023-07-09 14:32:54 INFO     chromadb.telemetry.posthog Anonymized telemetry enabled. See https://docs.trychroma.com/telemetry for more information.
2023-07-09 14:32:57 DEBUG    chromadb.config Starting component System
2023-07-09 14:32:57 DEBUG    chromadb.config Starting component Posthog
2023-07-09 14:32:57 DEBUG    chromadb.config Starting component Clickhouse
2023-07-09 14:32:57 DEBUG    chromadb.config Starting component LocalAPI
2023-07-09 14:32:57 INFO     uvicorn.error   Started server process [8]
2023-07-09 14:32:57 INFO     uvicorn.error   Waiting for application startup.
2023-07-09 14:32:57 INFO     uvicorn.error   Application startup complete.
2023-07-09 14:33:11 INFO     uvicorn.access  172.21.0.6:38576 - "GET /api/v1/collections HTTP/1.1" 200
2023-07-09 14:33:37 ERROR    clickhouse_connect.driver.httpclient std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_1_1_0"] ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/all_1_1_0/"]
Cannot print extra info for Poco::Exception (version 22.9.7.34 (official build))

2023-07-09 14:33:37 ERROR    chromadb.server.fastapi :HTTPDriver for http://clickhouse:8123 returned response code 500)
 std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_1_1_0"] ["/var/lib
Traceback (most recent call last):
  File "/chroma/./chromadb/server/fastapi/__init__.py", line 57, in catch_exceptions_middleware
    return await call_next(request)
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 46, in call_next
    raise app_exc
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 36, in coro
    await self.app(scope, request.receive, send_stream.send)
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 75, in __call__
    raise exc
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 64, in __call__
    await self.app(scope, receive, sender)
  File "/usr/local/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/usr/local/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 275, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/usr/local/lib/python3.10/site-packages/fastapi/routing.py", line 231, in app
    raw_response = await run_endpoint_function(
  File "/usr/local/lib/python3.10/site-packages/fastapi/routing.py", line 162, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/usr/local/lib/python3.10/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
  File "/usr/local/lib/python3.10/site-packages/anyio/to_thread.py", line 33, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 877, in run_sync_in_worker_thread
    return await future
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 807, in run
    result = context.run(func, *args)
  File "/chroma/./chromadb/server/fastapi/__init__.py", line 175, in create_collection
    return self._api.create_collection(
  File "/chroma/./chromadb/api/local.py", line 116, in create_collection
    res = self._db.create_collection(name, metadata, get_or_create)
  File "/chroma/./chromadb/db/clickhouse.py", line 187, in create_collection
    self._get_conn().insert(
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/client.py", line 425, in insert
    self.data_insert(context)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 237, in data_insert
    self.raw_insert(context.table,
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 265, in raw_insert
    response = self._raw_request(insert_block, params, headers, error_handler=status_handler)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 355, in _raw_request
    error_handler(response)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 235, in error_handler
    self._error_handler(response)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 312, in _error_handler
    raise OperationalError(err_str) if retried else DatabaseError(err_str) from None
clickhouse_connect.driver.exceptions.DatabaseError: :HTTPDriver for http://clickhouse:8123 returned response code 500)
 std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_1_1_0"] ["/var/lib
2023-07-09 14:33:37 INFO     uvicorn.access  172.21.0.6:38594 - "POST /api/v1/collections HTTP/1.1" 500
2023-07-09 14:33:44 INFO     uvicorn.access  172.21.0.4:36294 - "GET /api/v1/collections HTTP/1.1" 200
2023-07-09 14:33:52 ERROR    clickhouse_connect.driver.httpclient std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_2_2_0"] ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/all_2_2_0/"]
Cannot print extra info for Poco::Exception (version 22.9.7.34 (official build))

2023-07-09 14:33:52 ERROR    chromadb.server.fastapi :HTTPDriver for http://clickhouse:8123 returned response code 500)
 std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_2_2_0"] ["/var/lib
Traceback (most recent call last):
  File "/chroma/./chromadb/server/fastapi/__init__.py", line 57, in catch_exceptions_middleware
    return await call_next(request)
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 46, in call_next
    raise app_exc
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 36, in coro
    await self.app(scope, request.receive, send_stream.send)
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 75, in __call__
    raise exc
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 64, in __call__
    await self.app(scope, receive, sender)
  File "/usr/local/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/usr/local/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 275, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/usr/local/lib/python3.10/site-packages/fastapi/routing.py", line 231, in app
    raw_response = await run_endpoint_function(
  File "/usr/local/lib/python3.10/site-packages/fastapi/routing.py", line 162, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/usr/local/lib/python3.10/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
  File "/usr/local/lib/python3.10/site-packages/anyio/to_thread.py", line 33, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 877, in run_sync_in_worker_thread
    return await future
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 807, in run
    result = context.run(func, *args)
  File "/chroma/./chromadb/server/fastapi/__init__.py", line 175, in create_collection
    return self._api.create_collection(
  File "/chroma/./chromadb/api/local.py", line 116, in create_collection
    res = self._db.create_collection(name, metadata, get_or_create)
  File "/chroma/./chromadb/db/clickhouse.py", line 187, in create_collection
    self._get_conn().insert(
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/client.py", line 425, in insert
    self.data_insert(context)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 237, in data_insert
    self.raw_insert(context.table,
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 265, in raw_insert
    response = self._raw_request(insert_block, params, headers, error_handler=status_handler)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 355, in _raw_request
    error_handler(response)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 235, in error_handler
    self._error_handler(response)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 312, in _error_handler
    raise OperationalError(err_str) if retried else DatabaseError(err_str) from None
clickhouse_connect.driver.exceptions.DatabaseError: :HTTPDriver for http://clickhouse:8123 returned response code 500)
 std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_2_2_0"] ["/var/lib
2023-07-09 14:33:52 INFO     uvicorn.access  172.21.0.4:36302 - "POST /api/v1/collections HTTP/1.1" 500
2023-07-09 14:33:59 INFO     uvicorn.access  172.21.0.4:36306 - "GET /api/v1/collections HTTP/1.1" 200
2023-07-09 14:34:05 ERROR    clickhouse_connect.driver.httpclient std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_3_3_0"] ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/all_3_3_0/"]
Cannot print extra info for Poco::Exception (version 22.9.7.34 (official build))

2023-07-09 14:34:05 ERROR    chromadb.server.fastapi :HTTPDriver for http://clickhouse:8123 returned response code 500)
 std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_3_3_0"] ["/var/lib
Traceback (most recent call last):
  File "/chroma/./chromadb/server/fastapi/__init__.py", line 57, in catch_exceptions_middleware
    return await call_next(request)
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 46, in call_next
    raise app_exc
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 36, in coro
    await self.app(scope, request.receive, send_stream.send)
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 75, in __call__
    raise exc
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 64, in __call__
    await self.app(scope, receive, sender)
  File "/usr/local/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/usr/local/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 275, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/usr/local/lib/python3.10/site-packages/fastapi/routing.py", line 231, in app
    raw_response = await run_endpoint_function(
  File "/usr/local/lib/python3.10/site-packages/fastapi/routing.py", line 162, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/usr/local/lib/python3.10/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
  File "/usr/local/lib/python3.10/site-packages/anyio/to_thread.py", line 33, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 877, in run_sync_in_worker_thread
    return await future
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 807, in run
    result = context.run(func, *args)
  File "/chroma/./chromadb/server/fastapi/__init__.py", line 175, in create_collection
    return self._api.create_collection(
  File "/chroma/./chromadb/api/local.py", line 116, in create_collection
    res = self._db.create_collection(name, metadata, get_or_create)
  File "/chroma/./chromadb/db/clickhouse.py", line 187, in create_collection
    self._get_conn().insert(
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/client.py", line 425, in insert
    self.data_insert(context)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 237, in data_insert
    self.raw_insert(context.table,
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 265, in raw_insert
    response = self._raw_request(insert_block, params, headers, error_handler=status_handler)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 355, in _raw_request
    error_handler(response)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 235, in error_handler
    self._error_handler(response)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 312, in _error_handler
    raise OperationalError(err_str) if retried else DatabaseError(err_str) from None
clickhouse_connect.driver.exceptions.DatabaseError: :HTTPDriver for http://clickhouse:8123 returned response code 500)
 std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_3_3_0"] ["/var/lib
2023-07-09 14:34:05 INFO     uvicorn.access  172.21.0.4:36312 - "POST /api/v1/collections HTTP/1.1" 500
2023-07-09 14:34:11 INFO     uvicorn.access  172.21.0.4:36316 - "GET /api/v1/collections HTTP/1.1" 200
2023-07-09 14:34:19 ERROR    clickhouse_connect.driver.httpclient std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_4_4_0"] ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/all_4_4_0/"]
Cannot print extra info for Poco::Exception (version 22.9.7.34 (official build))

2023-07-09 14:34:19 ERROR    chromadb.server.fastapi :HTTPDriver for http://clickhouse:8123 returned response code 500)
 std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_4_4_0"] ["/var/lib
Traceback (most recent call last):
  File "/chroma/./chromadb/server/fastapi/__init__.py", line 57, in catch_exceptions_middleware
    return await call_next(request)
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 46, in call_next
    raise app_exc
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 36, in coro
    await self.app(scope, request.receive, send_stream.send)
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 75, in __call__
    raise exc
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 64, in __call__
    await self.app(scope, receive, sender)
  File "/usr/local/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/usr/local/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 275, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/usr/local/lib/python3.10/site-packages/fastapi/routing.py", line 231, in app
    raw_response = await run_endpoint_function(
  File "/usr/local/lib/python3.10/site-packages/fastapi/routing.py", line 162, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/usr/local/lib/python3.10/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
  File "/usr/local/lib/python3.10/site-packages/anyio/to_thread.py", line 33, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 877, in run_sync_in_worker_thread
    return await future
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 807, in run
    result = context.run(func, *args)
  File "/chroma/./chromadb/server/fastapi/__init__.py", line 175, in create_collection
    return self._api.create_collection(
  File "/chroma/./chromadb/api/local.py", line 116, in create_collection
    res = self._db.create_collection(name, metadata, get_or_create)
  File "/chroma/./chromadb/db/clickhouse.py", line 187, in create_collection
    self._get_conn().insert(
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/client.py", line 425, in insert
    self.data_insert(context)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 237, in data_insert
    self.raw_insert(context.table,
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 265, in raw_insert
    response = self._raw_request(insert_block, params, headers, error_handler=status_handler)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 355, in _raw_request
    error_handler(response)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 235, in error_handler
    self._error_handler(response)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 312, in _error_handler
    raise OperationalError(err_str) if retried else DatabaseError(err_str) from None
clickhouse_connect.driver.exceptions.DatabaseError: :HTTPDriver for http://clickhouse:8123 returned response code 500)
 std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_4_4_0"] ["/var/lib
2023-07-09 14:34:19 INFO     uvicorn.access  172.21.0.4:36322 - "POST /api/v1/collections HTTP/1.1" 500
2023-07-09 14:34:28 INFO     uvicorn.access  172.21.0.4:36326 - "GET /api/v1/collections HTTP/1.1" 200
2023-07-09 14:34:34 INFO     uvicorn.error   Shutting down
2023-07-09 14:34:34 INFO     uvicorn.error   Waiting for application shutdown.
2023-07-09 14:34:34 INFO     uvicorn.error   Application shutdown complete.
2023-07-09 14:34:34 INFO     uvicorn.error   Finished server process [8]
2023-07-09 14:34:35 INFO     uvicorn.error   Stopping reloader process [1]
2023-07-09 14:37:35 INFO     uvicorn.error   Will watch for changes in these directories: ['/chroma']
2023-07-09 14:37:35 INFO     uvicorn.error   Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2023-07-09 14:37:35 INFO     uvicorn.error   Started reloader process [1] using WatchFiles
2023-07-09 14:37:41 INFO     chromadb.telemetry.posthog Anonymized telemetry enabled. See https://docs.trychroma.com/telemetry for more information.
2023-07-09 14:37:43 DEBUG    chromadb.config Starting component System
2023-07-09 14:37:43 DEBUG    chromadb.config Starting component Posthog
2023-07-09 14:37:43 DEBUG    chromadb.config Starting component Clickhouse
2023-07-09 14:37:43 DEBUG    chromadb.config Starting component LocalAPI
2023-07-09 14:37:43 INFO     uvicorn.error   Started server process [8]
2023-07-09 14:37:43 INFO     uvicorn.error   Waiting for application startup.
2023-07-09 14:37:43 INFO     uvicorn.error   Application startup complete.
2023-07-09 14:37:57 INFO     uvicorn.access  172.22.0.6:41054 - "GET /api/v1/collections HTTP/1.1" 200
2023-07-09 14:38:24 ERROR    clickhouse_connect.driver.httpclient std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_1_1_0"] ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/all_1_1_0/"]
Cannot print extra info for Poco::Exception (version 22.9.7.34 (official build))

2023-07-09 14:38:24 ERROR    chromadb.server.fastapi :HTTPDriver for http://clickhouse:8123 returned response code 500)
 std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_1_1_0"] ["/var/lib
Traceback (most recent call last):
  File "/chroma/./chromadb/server/fastapi/__init__.py", line 57, in catch_exceptions_middleware
    return await call_next(request)
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 46, in call_next
    raise app_exc
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 36, in coro
    await self.app(scope, request.receive, send_stream.send)
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 75, in __call__
    raise exc
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 64, in __call__
    await self.app(scope, receive, sender)
  File "/usr/local/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/usr/local/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 275, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/usr/local/lib/python3.10/site-packages/fastapi/routing.py", line 231, in app
    raw_response = await run_endpoint_function(
  File "/usr/local/lib/python3.10/site-packages/fastapi/routing.py", line 162, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/usr/local/lib/python3.10/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
  File "/usr/local/lib/python3.10/site-packages/anyio/to_thread.py", line 33, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 877, in run_sync_in_worker_thread
    return await future
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 807, in run
    result = context.run(func, *args)
  File "/chroma/./chromadb/server/fastapi/__init__.py", line 175, in create_collection
    return self._api.create_collection(
  File "/chroma/./chromadb/api/local.py", line 116, in create_collection
    res = self._db.create_collection(name, metadata, get_or_create)
  File "/chroma/./chromadb/db/clickhouse.py", line 187, in create_collection
    self._get_conn().insert(
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/client.py", line 425, in insert
    self.data_insert(context)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 237, in data_insert
    self.raw_insert(context.table,
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 265, in raw_insert
    response = self._raw_request(insert_block, params, headers, error_handler=status_handler)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 355, in _raw_request
    error_handler(response)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 235, in error_handler
    self._error_handler(response)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 312, in _error_handler
    raise OperationalError(err_str) if retried else DatabaseError(err_str) from None
clickhouse_connect.driver.exceptions.DatabaseError: :HTTPDriver for http://clickhouse:8123 returned response code 500)
 std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_1_1_0"] ["/var/lib
2023-07-09 14:38:24 INFO     uvicorn.access  172.22.0.6:41072 - "POST /api/v1/collections HTTP/1.1" 500
2023-07-09 14:38:33 INFO     uvicorn.access  172.22.0.6:41076 - "GET /api/v1/collections HTTP/1.1" 200
2023-07-09 14:38:45 ERROR    clickhouse_connect.driver.httpclient std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_2_2_0"] ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/all_2_2_0/"]
Cannot print extra info for Poco::Exception (version 22.9.7.34 (official build))

2023-07-09 14:38:45 ERROR    chromadb.server.fastapi :HTTPDriver for http://clickhouse:8123 returned response code 500)
 std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_2_2_0"] ["/var/lib
Traceback (most recent call last):
  File "/chroma/./chromadb/server/fastapi/__init__.py", line 57, in catch_exceptions_middleware
    return await call_next(request)
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 46, in call_next
    raise app_exc
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 36, in coro
    await self.app(scope, request.receive, send_stream.send)
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 75, in __call__
    raise exc
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 64, in __call__
    await self.app(scope, receive, sender)
  File "/usr/local/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/usr/local/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 275, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/usr/local/lib/python3.10/site-packages/fastapi/routing.py", line 231, in app
    raw_response = await run_endpoint_function(
  File "/usr/local/lib/python3.10/site-packages/fastapi/routing.py", line 162, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/usr/local/lib/python3.10/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
  File "/usr/local/lib/python3.10/site-packages/anyio/to_thread.py", line 33, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 877, in run_sync_in_worker_thread
    return await future
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 807, in run
    result = context.run(func, *args)
  File "/chroma/./chromadb/server/fastapi/__init__.py", line 175, in create_collection
    return self._api.create_collection(
  File "/chroma/./chromadb/api/local.py", line 116, in create_collection
    res = self._db.create_collection(name, metadata, get_or_create)
  File "/chroma/./chromadb/db/clickhouse.py", line 187, in create_collection
    self._get_conn().insert(
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/client.py", line 425, in insert
    self.data_insert(context)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 237, in data_insert
    self.raw_insert(context.table,
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 265, in raw_insert
    response = self._raw_request(insert_block, params, headers, error_handler=status_handler)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 355, in _raw_request
    error_handler(response)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 235, in error_handler
    self._error_handler(response)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 312, in _error_handler
    raise OperationalError(err_str) if retried else DatabaseError(err_str) from None
clickhouse_connect.driver.exceptions.DatabaseError: :HTTPDriver for http://clickhouse:8123 returned response code 500)
 std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_2_2_0"] ["/var/lib
2023-07-09 14:38:45 INFO     uvicorn.access  172.22.0.6:41082 - "POST /api/v1/collections HTTP/1.1" 500
2023-07-09 14:38:53 INFO     uvicorn.access  172.22.0.6:41086 - "GET /api/v1/collections HTTP/1.1" 200
2023-07-09 14:38:58 ERROR    clickhouse_connect.driver.httpclient std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_3_3_0"] ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/all_3_3_0/"]
Cannot print extra info for Poco::Exception (version 22.9.7.34 (official build))

2023-07-09 14:38:58 ERROR    chromadb.server.fastapi :HTTPDriver for http://clickhouse:8123 returned response code 500)
 std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_3_3_0"] ["/var/lib
Traceback (most recent call last):
  File "/chroma/./chromadb/server/fastapi/__init__.py", line 57, in catch_exceptions_middleware
    return await call_next(request)
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 46, in call_next
    raise app_exc
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 36, in coro
    await self.app(scope, request.receive, send_stream.send)
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 75, in __call__
    raise exc
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 64, in __call__
    await self.app(scope, receive, sender)
  File "/usr/local/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/usr/local/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 275, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/usr/local/lib/python3.10/site-packages/fastapi/routing.py", line 231, in app
    raw_response = await run_endpoint_function(
  File "/usr/local/lib/python3.10/site-packages/fastapi/routing.py", line 162, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/usr/local/lib/python3.10/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
  File "/usr/local/lib/python3.10/site-packages/anyio/to_thread.py", line 33, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 877, in run_sync_in_worker_thread
    return await future
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 807, in run
    result = context.run(func, *args)
  File "/chroma/./chromadb/server/fastapi/__init__.py", line 175, in create_collection
    return self._api.create_collection(
  File "/chroma/./chromadb/api/local.py", line 116, in create_collection
    res = self._db.create_collection(name, metadata, get_or_create)
  File "/chroma/./chromadb/db/clickhouse.py", line 187, in create_collection
    self._get_conn().insert(
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/client.py", line 425, in insert
    self.data_insert(context)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 237, in data_insert
    self.raw_insert(context.table,
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 265, in raw_insert
    response = self._raw_request(insert_block, params, headers, error_handler=status_handler)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 355, in _raw_request
    error_handler(response)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 235, in error_handler
    self._error_handler(response)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 312, in _error_handler
    raise OperationalError(err_str) if retried else DatabaseError(err_str) from None
clickhouse_connect.driver.exceptions.DatabaseError: :HTTPDriver for http://clickhouse:8123 returned response code 500)
 std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_3_3_0"] ["/var/lib
2023-07-09 14:38:58 INFO     uvicorn.access  172.22.0.6:41092 - "POST /api/v1/collections HTTP/1.1" 500
2023-07-09 14:39:07 INFO     uvicorn.access  172.22.0.6:41096 - "GET /api/v1/collections HTTP/1.1" 200
2023-07-09 14:39:14 ERROR    clickhouse_connect.driver.httpclient std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_4_4_0"] ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/all_4_4_0/"]
Cannot print extra info for Poco::Exception (version 22.9.7.34 (official build))

2023-07-09 14:39:14 ERROR    chromadb.server.fastapi :HTTPDriver for http://clickhouse:8123 returned response code 500)
 std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_4_4_0"] ["/var/lib
Traceback (most recent call last):
  File "/chroma/./chromadb/server/fastapi/__init__.py", line 57, in catch_exceptions_middleware
    return await call_next(request)
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 46, in call_next
    raise app_exc
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 36, in coro
    await self.app(scope, request.receive, send_stream.send)
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 75, in __call__
    raise exc
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 64, in __call__
    await self.app(scope, receive, sender)
  File "/usr/local/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/usr/local/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 275, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/usr/local/lib/python3.10/site-packages/fastapi/routing.py", line 231, in app
    raw_response = await run_endpoint_function(
  File "/usr/local/lib/python3.10/site-packages/fastapi/routing.py", line 162, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/usr/local/lib/python3.10/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
  File "/usr/local/lib/python3.10/site-packages/anyio/to_thread.py", line 33, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 877, in run_sync_in_worker_thread
    return await future
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 807, in run
    result = context.run(func, *args)
  File "/chroma/./chromadb/server/fastapi/__init__.py", line 175, in create_collection
    return self._api.create_collection(
  File "/chroma/./chromadb/api/local.py", line 116, in create_collection
    res = self._db.create_collection(name, metadata, get_or_create)
  File "/chroma/./chromadb/db/clickhouse.py", line 187, in create_collection
    self._get_conn().insert(
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/client.py", line 425, in insert
    self.data_insert(context)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 237, in data_insert
    self.raw_insert(context.table,
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 265, in raw_insert
    response = self._raw_request(insert_block, params, headers, error_handler=status_handler)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 355, in _raw_request
    error_handler(response)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 235, in error_handler
    self._error_handler(response)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 312, in _error_handler
    raise OperationalError(err_str) if retried else DatabaseError(err_str) from None
clickhouse_connect.driver.exceptions.DatabaseError: :HTTPDriver for http://clickhouse:8123 returned response code 500)
 std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_4_4_0"] ["/var/lib
2023-07-09 14:39:14 INFO     uvicorn.access  172.22.0.6:41102 - "POST /api/v1/collections HTTP/1.1" 500
2023-07-09 14:39:23 INFO     uvicorn.access  172.22.0.6:41106 - "GET /api/v1/collections HTTP/1.1" 200
2023-07-09 14:39:30 ERROR    clickhouse_connect.driver.httpclient std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_5_5_0"] ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/all_5_5_0/"]
Cannot print extra info for Poco::Exception (version 22.9.7.34 (official build))

2023-07-09 14:39:30 ERROR    chromadb.server.fastapi :HTTPDriver for http://clickhouse:8123 returned response code 500)
 std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_5_5_0"] ["/var/lib
Traceback (most recent call last):
  File "/chroma/./chromadb/server/fastapi/__init__.py", line 57, in catch_exceptions_middleware
    return await call_next(request)
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 46, in call_next
    raise app_exc
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 36, in coro
    await self.app(scope, request.receive, send_stream.send)
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 75, in __call__
    raise exc
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 64, in __call__
    await self.app(scope, receive, sender)
  File "/usr/local/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/usr/local/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 275, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/usr/local/lib/python3.10/site-packages/fastapi/routing.py", line 231, in app
    raw_response = await run_endpoint_function(
  File "/usr/local/lib/python3.10/site-packages/fastapi/routing.py", line 162, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/usr/local/lib/python3.10/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
  File "/usr/local/lib/python3.10/site-packages/anyio/to_thread.py", line 33, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 877, in run_sync_in_worker_thread
    return await future
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 807, in run
    result = context.run(func, *args)
  File "/chroma/./chromadb/server/fastapi/__init__.py", line 175, in create_collection
    return self._api.create_collection(
  File "/chroma/./chromadb/api/local.py", line 116, in create_collection
    res = self._db.create_collection(name, metadata, get_or_create)
  File "/chroma/./chromadb/db/clickhouse.py", line 187, in create_collection
    self._get_conn().insert(
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/client.py", line 425, in insert
    self.data_insert(context)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 237, in data_insert
    self.raw_insert(context.table,
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 265, in raw_insert
    response = self._raw_request(insert_block, params, headers, error_handler=status_handler)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 355, in _raw_request
    error_handler(response)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 235, in error_handler
    self._error_handler(response)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 312, in _error_handler
    raise OperationalError(err_str) if retried else DatabaseError(err_str) from None
clickhouse_connect.driver.exceptions.DatabaseError: :HTTPDriver for http://clickhouse:8123 returned response code 500)
 std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_5_5_0"] ["/var/lib
2023-07-09 14:39:31 INFO     uvicorn.access  172.22.0.6:41112 - "POST /api/v1/collections HTTP/1.1" 500
2023-07-09 14:39:37 INFO     uvicorn.access  172.22.0.6:41116 - "GET /api/v1/collections HTTP/1.1" 200
2023-07-09 14:39:43 ERROR    clickhouse_connect.driver.httpclient std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_6_6_0"] ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/all_6_6_0/"]
Cannot print extra info for Poco::Exception (version 22.9.7.34 (official build))

2023-07-09 14:39:43 ERROR    chromadb.server.fastapi :HTTPDriver for http://clickhouse:8123 returned response code 500)
 std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_6_6_0"] ["/var/lib
Traceback (most recent call last):
  File "/chroma/./chromadb/server/fastapi/__init__.py", line 57, in catch_exceptions_middleware
    return await call_next(request)
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 46, in call_next
    raise app_exc
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 36, in coro
    await self.app(scope, request.receive, send_stream.send)
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 75, in __call__
    raise exc
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 64, in __call__
    await self.app(scope, receive, sender)
  File "/usr/local/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/usr/local/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 275, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/usr/local/lib/python3.10/site-packages/fastapi/routing.py", line 231, in app
    raw_response = await run_endpoint_function(
  File "/usr/local/lib/python3.10/site-packages/fastapi/routing.py", line 162, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/usr/local/lib/python3.10/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
  File "/usr/local/lib/python3.10/site-packages/anyio/to_thread.py", line 33, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 877, in run_sync_in_worker_thread
    return await future
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 807, in run
    result = context.run(func, *args)
  File "/chroma/./chromadb/server/fastapi/__init__.py", line 175, in create_collection
    return self._api.create_collection(
  File "/chroma/./chromadb/api/local.py", line 116, in create_collection
    res = self._db.create_collection(name, metadata, get_or_create)
  File "/chroma/./chromadb/db/clickhouse.py", line 187, in create_collection
    self._get_conn().insert(
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/client.py", line 425, in insert
    self.data_insert(context)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 237, in data_insert
    self.raw_insert(context.table,
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 265, in raw_insert
    response = self._raw_request(insert_block, params, headers, error_handler=status_handler)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 355, in _raw_request
    error_handler(response)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 235, in error_handler
    self._error_handler(response)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 312, in _error_handler
    raise OperationalError(err_str) if retried else DatabaseError(err_str) from None
clickhouse_connect.driver.exceptions.DatabaseError: :HTTPDriver for http://clickhouse:8123 returned response code 500)
 std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_6_6_0"] ["/var/lib
2023-07-09 14:39:43 INFO     uvicorn.access  172.22.0.6:41122 - "POST /api/v1/collections HTTP/1.1" 500
2023-07-09 14:39:50 INFO     uvicorn.access  172.22.0.6:41126 - "GET /api/v1/collections HTTP/1.1" 200
2023-07-09 14:39:56 ERROR    clickhouse_connect.driver.httpclient std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_7_7_0"] ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/all_7_7_0/"]
Cannot print extra info for Poco::Exception (version 22.9.7.34 (official build))

2023-07-09 14:39:56 ERROR    chromadb.server.fastapi :HTTPDriver for http://clickhouse:8123 returned response code 500)
 std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_7_7_0"] ["/var/lib
Traceback (most recent call last):
  File "/chroma/./chromadb/server/fastapi/__init__.py", line 57, in catch_exceptions_middleware
    return await call_next(request)
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 46, in call_next
    raise app_exc
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 36, in coro
    await self.app(scope, request.receive, send_stream.send)
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 75, in __call__
    raise exc
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 64, in __call__
    await self.app(scope, receive, sender)
  File "/usr/local/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/usr/local/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 275, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/usr/local/lib/python3.10/site-packages/fastapi/routing.py", line 231, in app
    raw_response = await run_endpoint_function(
  File "/usr/local/lib/python3.10/site-packages/fastapi/routing.py", line 162, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/usr/local/lib/python3.10/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
  File "/usr/local/lib/python3.10/site-packages/anyio/to_thread.py", line 33, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 877, in run_sync_in_worker_thread
    return await future
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 807, in run
    result = context.run(func, *args)
  File "/chroma/./chromadb/server/fastapi/__init__.py", line 175, in create_collection
    return self._api.create_collection(
  File "/chroma/./chromadb/api/local.py", line 116, in create_collection
    res = self._db.create_collection(name, metadata, get_or_create)
  File "/chroma/./chromadb/db/clickhouse.py", line 187, in create_collection
    self._get_conn().insert(
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/client.py", line 425, in insert
    self.data_insert(context)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 237, in data_insert
    self.raw_insert(context.table,
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 265, in raw_insert
    response = self._raw_request(insert_block, params, headers, error_handler=status_handler)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 355, in _raw_request
    error_handler(response)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 235, in error_handler
    self._error_handler(response)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 312, in _error_handler
    raise OperationalError(err_str) if retried else DatabaseError(err_str) from None
clickhouse_connect.driver.exceptions.DatabaseError: :HTTPDriver for http://clickhouse:8123 returned response code 500)
 std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_7_7_0"] ["/var/lib
2023-07-09 14:39:56 INFO     uvicorn.access  172.22.0.6:41132 - "POST /api/v1/collections HTTP/1.1" 500
2023-07-09 14:40:04 INFO     uvicorn.access  172.22.0.6:41138 - "GET /api/v1/collections HTTP/1.1" 200
2023-07-09 14:40:11 ERROR    clickhouse_connect.driver.httpclient std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_8_8_0"] ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/all_8_8_0/"]
Cannot print extra info for Poco::Exception (version 22.9.7.34 (official build))

2023-07-09 14:40:11 ERROR    chromadb.server.fastapi :HTTPDriver for http://clickhouse:8123 returned response code 500)
 std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_8_8_0"] ["/var/lib
Traceback (most recent call last):
  File "/chroma/./chromadb/server/fastapi/__init__.py", line 57, in catch_exceptions_middleware
    return await call_next(request)
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 46, in call_next
    raise app_exc
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 36, in coro
    await self.app(scope, request.receive, send_stream.send)
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 75, in __call__
    raise exc
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 64, in __call__
    await self.app(scope, receive, sender)
  File "/usr/local/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/usr/local/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 275, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/usr/local/lib/python3.10/site-packages/fastapi/routing.py", line 231, in app
    raw_response = await run_endpoint_function(
  File "/usr/local/lib/python3.10/site-packages/fastapi/routing.py", line 162, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/usr/local/lib/python3.10/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
  File "/usr/local/lib/python3.10/site-packages/anyio/to_thread.py", line 33, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 877, in run_sync_in_worker_thread
    return await future
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 807, in run
    result = context.run(func, *args)
  File "/chroma/./chromadb/server/fastapi/__init__.py", line 175, in create_collection
    return self._api.create_collection(
  File "/chroma/./chromadb/api/local.py", line 116, in create_collection
    res = self._db.create_collection(name, metadata, get_or_create)
  File "/chroma/./chromadb/db/clickhouse.py", line 187, in create_collection
    self._get_conn().insert(
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/client.py", line 425, in insert
    self.data_insert(context)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 237, in data_insert
    self.raw_insert(context.table,
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 265, in raw_insert
    response = self._raw_request(insert_block, params, headers, error_handler=status_handler)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 355, in _raw_request
    error_handler(response)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 235, in error_handler
    self._error_handler(response)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 312, in _error_handler
    raise OperationalError(err_str) if retried else DatabaseError(err_str) from None
clickhouse_connect.driver.exceptions.DatabaseError: :HTTPDriver for http://clickhouse:8123 returned response code 500)
 std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_8_8_0"] ["/var/lib
2023-07-09 14:40:12 INFO     uvicorn.access  172.22.0.6:41144 - "POST /api/v1/collections HTTP/1.1" 500
2023-07-09 14:40:18 INFO     uvicorn.access  172.22.0.6:41148 - "GET /api/v1/collections HTTP/1.1" 200
2023-07-09 14:40:24 ERROR    clickhouse_connect.driver.httpclient std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_9_9_0"] ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/all_9_9_0/"]
Cannot print extra info for Poco::Exception (version 22.9.7.34 (official build))

2023-07-09 14:40:24 ERROR    chromadb.server.fastapi :HTTPDriver for http://clickhouse:8123 returned response code 500)
 std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_9_9_0"] ["/var/lib
Traceback (most recent call last):
  File "/chroma/./chromadb/server/fastapi/__init__.py", line 57, in catch_exceptions_middleware
    return await call_next(request)
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 46, in call_next
    raise app_exc
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 36, in coro
    await self.app(scope, request.receive, send_stream.send)
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 75, in __call__
    raise exc
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 64, in __call__
    await self.app(scope, receive, sender)
  File "/usr/local/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/usr/local/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 275, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/usr/local/lib/python3.10/site-packages/fastapi/routing.py", line 231, in app
    raw_response = await run_endpoint_function(
  File "/usr/local/lib/python3.10/site-packages/fastapi/routing.py", line 162, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/usr/local/lib/python3.10/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
  File "/usr/local/lib/python3.10/site-packages/anyio/to_thread.py", line 33, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 877, in run_sync_in_worker_thread
    return await future
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 807, in run
    result = context.run(func, *args)
  File "/chroma/./chromadb/server/fastapi/__init__.py", line 175, in create_collection
    return self._api.create_collection(
  File "/chroma/./chromadb/api/local.py", line 116, in create_collection
    res = self._db.create_collection(name, metadata, get_or_create)
  File "/chroma/./chromadb/db/clickhouse.py", line 187, in create_collection
    self._get_conn().insert(
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/client.py", line 425, in insert
    self.data_insert(context)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 237, in data_insert
    self.raw_insert(context.table,
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 265, in raw_insert
    response = self._raw_request(insert_block, params, headers, error_handler=status_handler)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 355, in _raw_request
    error_handler(response)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 235, in error_handler
    self._error_handler(response)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 312, in _error_handler
    raise OperationalError(err_str) if retried else DatabaseError(err_str) from None
clickhouse_connect.driver.exceptions.DatabaseError: :HTTPDriver for http://clickhouse:8123 returned response code 500)
 std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_9_9_0"] ["/var/lib
2023-07-09 14:40:24 INFO     uvicorn.access  172.22.0.6:41154 - "POST /api/v1/collections HTTP/1.1" 500
2023-07-09 14:40:31 INFO     uvicorn.access  172.22.0.6:41158 - "GET /api/v1/collections HTTP/1.1" 200
2023-07-09 14:40:38 ERROR    clickhouse_connect.driver.httpclient std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_10_10_0"] ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/all_10_10_0/"]
Cannot print extra info for Poco::Exception (version 22.9.7.34 (official build))

2023-07-09 14:40:38 ERROR    chromadb.server.fastapi :HTTPDriver for http://clickhouse:8123 returned response code 500)
 std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_10_10_0"] ["/var/l
Traceback (most recent call last):
  File "/chroma/./chromadb/server/fastapi/__init__.py", line 57, in catch_exceptions_middleware
    return await call_next(request)
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 46, in call_next
    raise app_exc
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 36, in coro
    await self.app(scope, request.receive, send_stream.send)
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 75, in __call__
    raise exc
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 64, in __call__
    await self.app(scope, receive, sender)
  File "/usr/local/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/usr/local/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 680, in __call__
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 275, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/usr/local/lib/python3.10/site-packages/fastapi/routing.py", line 231, in app
    raw_response = await run_endpoint_function(
  File "/usr/local/lib/python3.10/site-packages/fastapi/routing.py", line 162, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/usr/local/lib/python3.10/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
  File "/usr/local/lib/python3.10/site-packages/anyio/to_thread.py", line 33, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 877, in run_sync_in_worker_thread
    return await future
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 807, in run
    result = context.run(func, *args)
  File "/chroma/./chromadb/server/fastapi/__init__.py", line 175, in create_collection
    return self._api.create_collection(
  File "/chroma/./chromadb/api/local.py", line 116, in create_collection
    res = self._db.create_collection(name, metadata, get_or_create)
  File "/chroma/./chromadb/db/clickhouse.py", line 187, in create_collection
    self._get_conn().insert(
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/client.py", line 425, in insert
    self.data_insert(context)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 237, in data_insert
    self.raw_insert(context.table,
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 265, in raw_insert
    response = self._raw_request(insert_block, params, headers, error_handler=status_handler)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 355, in _raw_request
    error_handler(response)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 235, in error_handler
    self._error_handler(response)
  File "/usr/local/lib/python3.10/site-packages/clickhouse_connect/driver/httpclient.py", line 312, in _error_handler
    raise OperationalError(err_str) if retried else DatabaseError(err_str) from None
clickhouse_connect.driver.exceptions.DatabaseError: :HTTPDriver for http://clickhouse:8123 returned response code 500)
 std::exception. Code: 1001, type: std::__1::__fs::filesystem::filesystem_error, e.what() = filesystem error: in rename: Permission denied ["/var/lib/clickhouse/store/ef9/ef9cac36-9565-4baf-8fda-a5dbc878feb9/tmp_insert_all_10_10_0"] ["/var/l
2023-07-09 14:40:38 INFO     uvicorn.access  172.22.0.6:41164 - "POST /api/v1/collections HTTP/1.1" 500
2023-07-09 14:40:47 INFO     uvicorn.access  172.22.0.6:41168 - "GET /api/v1/collections HTTP/1.1" 200
2023-07-09 14:40:54 INFO     uvicorn.error   Shutting down
2023-07-09 14:40:54 INFO     uvicorn.error   Waiting for application shutdown.
2023-07-09 14:40:54 INFO     uvicorn.error   Application shutdown complete.
2023-07-09 14:40:54 INFO     uvicorn.error   Finished server process [8]
2023-07-09 14:40:55 INFO     uvicorn.error   Stopping reloader process [1]
2023-07-09 14:46:15 INFO     uvicorn.error   Will watch for changes in these directories: ['/chroma']
2023-07-09 14:46:15 INFO     uvicorn.error   Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2023-07-09 14:46:15 INFO     uvicorn.error   Started reloader process [1] using WatchFiles
2023-07-09 14:46:21 INFO     chromadb.telemetry.posthog Anonymized telemetry enabled. See https://docs.trychroma.com/telemetry for more information.
2023-07-09 14:46:22 DEBUG    chromadb.config Starting component System
2023-07-09 14:46:22 DEBUG    chromadb.config Starting component Posthog
2023-07-09 14:46:22 DEBUG    chromadb.config Starting component Clickhouse
2023-07-09 14:46:22 DEBUG    chromadb.config Starting component LocalAPI
2023-07-09 14:46:22 INFO     uvicorn.error   Started server process [7]
2023-07-09 14:46:22 INFO     uvicorn.error   Waiting for application startup.
2023-07-09 14:46:22 INFO     uvicorn.error   Application startup complete.
2023-07-09 14:46:37 INFO     uvicorn.access  172.24.0.6:48774 - "GET /api/v1/collections HTTP/1.1" 200
2023-07-09 14:46:57 INFO     uvicorn.access  172.24.0.6:48784 - "POST /api/v1/collections HTTP/1.1" 200
2023-07-09 14:46:57 INFO     uvicorn.access  172.24.0.6:48788 - "GET /api/v1/collections/86ec2208-2ed8-47a1-a125-3afbea718132/count HTTP/1.1" 200
2023-07-09 14:47:00 INFO     uvicorn.access  172.24.0.6:48794 - "GET /api/v1/collections HTTP/1.1" 200
2023-07-09 14:47:05 INFO     chromadb.db.clickhouse collection with name documents already exists, returning existing collection
2023-07-09 14:47:05 INFO     uvicorn.access  172.24.0.6:48800 - "POST /api/v1/collections HTTP/1.1" 200
2023-07-09 14:47:05 INFO     uvicorn.access  172.24.0.6:48804 - "GET /api/v1/collections/86ec2208-2ed8-47a1-a125-3afbea718132/count HTTP/1.1" 200
2023-07-09 14:54:46 INFO     uvicorn.error   Shutting down
2023-07-09 14:54:46 INFO     uvicorn.error   Waiting for application shutdown.
2023-07-09 14:54:46 INFO     uvicorn.error   Application shutdown complete.
2023-07-09 14:54:46 INFO     uvicorn.error   Finished server process [7]
2023-07-09 14:54:47 INFO     uvicorn.error   Stopping reloader process [1]
2023-07-09 14:55:01 INFO     uvicorn.error   Will watch for changes in these directories: ['/chroma']
2023-07-09 14:55:01 INFO     uvicorn.error   Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2023-07-09 14:55:01 INFO     uvicorn.error   Started reloader process [1] using WatchFiles
2023-07-09 14:55:04 INFO     chromadb.telemetry.posthog Anonymized telemetry enabled. See https://docs.trychroma.com/telemetry for more information.
2023-07-09 14:55:05 DEBUG    chromadb.config Starting component System
2023-07-09 14:55:05 DEBUG    chromadb.config Starting component Posthog
2023-07-09 14:55:05 DEBUG    chromadb.config Starting component Clickhouse
2023-07-09 14:55:05 DEBUG    chromadb.config Starting component LocalAPI
2023-07-09 14:55:05 INFO     uvicorn.error   Started server process [8]
2023-07-09 14:55:05 INFO     uvicorn.error   Waiting for application startup.
2023-07-09 14:55:05 INFO     uvicorn.error   Application startup complete.
2023-07-09 14:55:06 INFO     uvicorn.access  172.24.0.6:48980 - "GET /api/v1/collections HTTP/1.1" 200
2023-07-09 14:55:12 INFO     chromadb.db.clickhouse collection with name documents already exists, returning existing collection
2023-07-09 14:55:12 INFO     uvicorn.access  172.24.0.6:48986 - "POST /api/v1/collections HTTP/1.1" 200
2023-07-09 14:55:12 INFO     uvicorn.access  172.24.0.6:48990 - "GET /api/v1/collections/86ec2208-2ed8-47a1-a125-3afbea718132/count HTTP/1.1" 200
2023-07-09 14:55:15 INFO     uvicorn.access  172.24.0.6:48996 - "GET /api/v1/collections HTTP/1.1" 200
2023-07-09 14:55:21 INFO     chromadb.db.clickhouse collection with name documents already exists, returning existing collection
2023-07-09 14:55:21 INFO     uvicorn.access  172.24.0.6:49006 - "POST /api/v1/collections HTTP/1.1" 200
2023-07-09 14:55:21 INFO     uvicorn.access  172.24.0.6:49010 - "GET /api/v1/collections/86ec2208-2ed8-47a1-a125-3afbea718132/count HTTP/1.1" 200
2023-07-09 14:55:40 INFO     uvicorn.access  172.24.0.6:49054 - "POST /api/v1/collections/86ec2208-2ed8-47a1-a125-3afbea718132/query HTTP/1.1" 200
2023-07-09 14:56:25 INFO     uvicorn.error   Shutting down
2023-07-09 14:56:26 INFO     uvicorn.error   Waiting for application shutdown.
2023-07-09 14:56:26 INFO     uvicorn.error   Application shutdown complete.
2023-07-09 14:56:26 INFO     uvicorn.error   Finished server process [8]
2023-07-09 14:56:26 INFO     uvicorn.error   Stopping reloader process [1]
2023-07-09 14:56:35 INFO     uvicorn.error   Will watch for changes in these directories: ['/chroma']
2023-07-09 14:56:35 INFO     uvicorn.error   Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2023-07-09 14:56:35 INFO     uvicorn.error   Started reloader process [1] using WatchFiles
2023-07-09 14:56:38 INFO     chromadb.telemetry.posthog Anonymized telemetry enabled. See https://docs.trychroma.com/telemetry for more information.
2023-07-09 14:56:38 DEBUG    chromadb.config Starting component System
2023-07-09 14:56:38 DEBUG    chromadb.config Starting component Posthog
2023-07-09 14:56:38 DEBUG    chromadb.config Starting component Clickhouse
2023-07-09 14:56:38 DEBUG    chromadb.config Starting component LocalAPI
2023-07-09 14:56:38 INFO     uvicorn.error   Started server process [8]
2023-07-09 14:56:38 INFO     uvicorn.error   Waiting for application startup.
2023-07-09 14:56:38 INFO     uvicorn.error   Application startup complete.
2023-07-09 14:56:40 INFO     uvicorn.access  172.24.0.6:49064 - "GET /api/v1/collections HTTP/1.1" 200
2023-07-09 14:56:46 INFO     chromadb.db.clickhouse collection with name documents already exists, returning existing collection
2023-07-09 14:56:46 INFO     uvicorn.access  172.24.0.6:49070 - "POST /api/v1/collections HTTP/1.1" 200
2023-07-09 14:56:46 INFO     uvicorn.access  172.24.0.6:49074 - "GET /api/v1/collections/86ec2208-2ed8-47a1-a125-3afbea718132/count HTTP/1.1" 200
2023-07-09 14:56:49 INFO     uvicorn.access  172.24.0.6:49080 - "GET /api/v1/collections HTTP/1.1" 200
2023-07-09 14:56:55 INFO     chromadb.db.clickhouse collection with name documents already exists, returning existing collection
2023-07-09 14:56:55 INFO     uvicorn.access  172.24.0.6:49088 - "POST /api/v1/collections HTTP/1.1" 200
2023-07-09 14:56:55 INFO     uvicorn.access  172.24.0.6:49092 - "GET /api/v1/collections/86ec2208-2ed8-47a1-a125-3afbea718132/count HTTP/1.1" 200
2023-07-09 14:57:01 INFO     uvicorn.access  172.24.0.6:49108 - "POST /api/v1/collections/86ec2208-2ed8-47a1-a125-3afbea718132/query HTTP/1.1" 200
2023-07-09 14:59:06 INFO     uvicorn.error   Shutting down
2023-07-09 14:59:07 INFO     uvicorn.error   Waiting for application shutdown.
2023-07-09 14:59:07 INFO     uvicorn.error   Application shutdown complete.
2023-07-09 14:59:07 INFO     uvicorn.error   Finished server process [8]
2023-07-09 14:59:07 INFO     uvicorn.error   Stopping reloader process [1]
